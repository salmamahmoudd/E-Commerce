import{C as Mo}from"./chunk-POUEFXQ3.js";import{$ as Q,$a as yi,A as Ke,Aa as oo,Ab as bi,B as pi,Ba as gi,Bb as Kt,C as dt,Ca as _i,Cb as Se,D as Ur,Da as vi,Db as we,E as Pn,Ea as At,Eb as To,F as Wr,Fa as Dt,Fb as oe,G as K,Ga as It,Gb as xe,H as d,Ha as mt,Hb as Ci,I as $r,Ia as me,Ib as Si,J as Ht,Ja as so,Jb as wi,K as y,Ka as ao,Kb as Ze,L as Hr,La as Ce,Lb as Re,M as D,Ma as lo,N as ze,Na as ke,O as le,Oa as Tt,P as Pt,Pa as co,Q as Ne,Qa as Ye,R as F,Ra as qt,S as be,Sa as uo,T as qr,Ta as pt,U as Kr,Ua as mo,V as Qr,Va as Dn,W as Yr,Wa as Xe,X as An,Xa as Mt,Y as B,Ya as pe,Z as j,Za as po,_a as fo,a as mi,aa as Y,ab as ho,b as Dr,ba as f,bb as go,c as Ir,ca as l,cb as _o,d as Tr,da as c,db as Ve,e as Mr,ea as h,eb as vo,f as Fr,fa as X,fb as yo,g as Nr,ga as H,gb as bo,h as kr,ha as ut,hb as Co,i as Vr,ia as Xr,ib as So,j as Or,ja as Zr,jb as wo,k,ka as G,kb as Ft,l as lt,la as Jr,lb as Nt,m as q,ma as A,mb as Oe,n as je,na as _,nb as re,o as Ge,oa as eo,ob as xo,p as qe,pa as to,pb as Eo,q as w,qa as io,qb as Po,r as Rr,ra as no,rb as V,s as T,sa as ro,sb as De,t as M,ta as ne,tb as Ao,u as Lr,ua as fi,ub as In,v as Br,va as Qe,vb as Do,w as jr,wa as hi,wb as ft,x as Gr,xa as m,xb as Io,y as zr,ya as U,yb as Tn,z as ct,za as N,zb as ht}from"./chunk-GA7MX5GQ.js";import{a as ee,b as ve,c as Ar}from"./chunk-4CLCTAJ7.js";function Fo(n){return new k(3e3,!1)}function Ma(){return new k(3100,!1)}function Fa(){return new k(3101,!1)}function Na(n){return new k(3001,!1)}function ka(n){return new k(3003,!1)}function Va(n){return new k(3004,!1)}function ko(n,t){return new k(3005,!1)}function Vo(){return new k(3006,!1)}function Oo(){return new k(3007,!1)}function Ro(n,t){return new k(3008,!1)}function Lo(n){return new k(3002,!1)}function Bo(n,t,e,i,r){return new k(3010,!1)}function jo(){return new k(3011,!1)}function Go(){return new k(3012,!1)}function zo(){return new k(3200,!1)}function Uo(){return new k(3202,!1)}function Wo(){return new k(3013,!1)}function $o(n){return new k(3014,!1)}function Ho(n){return new k(3015,!1)}function qo(n){return new k(3016,!1)}function Ko(n,t){return new k(3404,!1)}function Oa(n){return new k(3502,!1)}function Qo(n){return new k(3503,!1)}function Yo(){return new k(3300,!1)}function Xo(n){return new k(3504,!1)}function Zo(n){return new k(3301,!1)}function Jo(n,t){return new k(3302,!1)}function es(n){return new k(3303,!1)}function ts(n,t){return new k(3400,!1)}function is(n){return new k(3401,!1)}function ns(n){return new k(3402,!1)}function rs(n,t){return new k(3505,!1)}function Ue(n){switch(n.length){case 0:return new ht;case 1:return n[0];default:return new bi(n)}}function kn(n,t,e=new Map,i=new Map){let r=[],o=[],s=-1,a=null;if(t.forEach(u=>{let p=u.get("offset"),v=p==s,g=v&&a||new Map;u.forEach((I,x)=>{let C=x,P=I;if(x!=="offset")switch(C=n.normalizePropertyName(C,r),P){case Kt:P=e.get(x);break;case De:P=i.get(x);break;default:P=n.normalizeStyleValue(x,C,P,r);break}g.set(C,P)}),v||o.push(g),a=g,s=p}),r.length)throw Oa(r);return o}function xi(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&Mn(e,"start",n)));break;case"done":n.onDone(()=>i(e&&Mn(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&Mn(e,"destroy",n)));break}}function Mn(n,t,e){let i=e.totalTime,r=!!e.disabled,o=Ei(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,i??n.totalTime,r),s=n._data;return s!=null&&(o._data=s),o}function Ei(n,t,e,i,r="",o=0,s){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function fe(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function Vn(n){let t=n.indexOf(":"),e=n.substring(1,t),i=n.slice(t+1);return[e,i]}var Ra=typeof document>"u"?null:document.documentElement;function Pi(n){let t=n.parentNode||n.host||null;return t===Ra?null:t}function La(n){return n.substring(1,6)=="ebkit"}var gt=null,No=!1;function os(n){gt||(gt=Ba()||{},No=gt.style?"WebkitAppearance"in gt.style:!1);let t=!0;return gt.style&&!La(n)&&(t=n in gt.style,!t&&No&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in gt.style)),t}function Ba(){return typeof document<"u"?document.body:null}function On(n,t){for(;t;){if(t===n)return!0;t=Pi(t)}return!1}function Rn(n,t,e){if(e)return Array.from(n.querySelectorAll(t));let i=n.querySelector(t);return i?[i]:[]}var ja=1e3,Ln="{{",Ga="}}",Bn="ng-enter",Ai="ng-leave",Qt="ng-trigger",Yt=".ng-trigger",jn="ng-animating",Di=".ng-animating";function Le(n){if(typeof n=="number")return n;let t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Fn(parseFloat(t[1]),t[2])}function Fn(n,t){switch(t){case"s":return n*ja;default:return n}}function Xt(n,t,e){return n.hasOwnProperty("duration")?n:Ua(n,t,e)}var za=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i;function Ua(n,t,e){let i,r=0,o="";if(typeof n=="string"){let s=n.match(za);if(s===null)return t.push(Fo(n)),{duration:0,delay:0,easing:""};i=Fn(parseFloat(s[1]),s[2]);let a=s[3];a!=null&&(r=Fn(parseFloat(a),s[4]));let u=s[5];u&&(o=u)}else i=n;if(!e){let s=!1,a=t.length;i<0&&(t.push(Ma()),s=!0),r<0&&(t.push(Fa()),s=!0),s&&t.splice(a,0,Fo(n))}return{duration:i,delay:r,easing:o}}function ss(n){return n.length?n[0]instanceof Map?n:n.map(t=>new Map(Object.entries(t))):[]}function Ie(n,t,e){t.forEach((i,r)=>{let o=Ii(r);e&&!e.has(r)&&e.set(r,n.style[o]),n.style[o]=i})}function Je(n,t){t.forEach((e,i)=>{let r=Ii(i);n.style[r]=""})}function kt(n){return Array.isArray(n)?n.length==1?n[0]:Do(n):n}function as(n,t,e){let i=t.params||{},r=Gn(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(Na(o))})}var Nn=new RegExp(`${Ln}\\s*(.+?)\\s*${Ga}`,"g");function Gn(n){let t=[];if(typeof n=="string"){let e;for(;e=Nn.exec(n);)t.push(e[1]);Nn.lastIndex=0}return t}function Vt(n,t,e){let i=`${n}`,r=i.replace(Nn,(o,s)=>{let a=t[s];return a==null&&(e.push(ka(s)),a=""),a.toString()});return r==i?n:r}var Wa=/-+([a-z0-9])/g;function Ii(n){return n.replace(Wa,(...t)=>t[1].toUpperCase())}function ls(n,t){return n===0||t===0}function cs(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<t.length;o++){let s=t[o];r.forEach(a=>s.set(a,Ti(n,a)))}}return t}function he(n,t,e){switch(t.type){case V.Trigger:return n.visitTrigger(t,e);case V.State:return n.visitState(t,e);case V.Transition:return n.visitTransition(t,e);case V.Sequence:return n.visitSequence(t,e);case V.Group:return n.visitGroup(t,e);case V.Animate:return n.visitAnimate(t,e);case V.Keyframes:return n.visitKeyframes(t,e);case V.Style:return n.visitStyle(t,e);case V.Reference:return n.visitReference(t,e);case V.AnimateChild:return n.visitAnimateChild(t,e);case V.AnimateRef:return n.visitAnimateRef(t,e);case V.Query:return n.visitQuery(t,e);case V.Stagger:return n.visitStagger(t,e);default:throw Va(t.type)}}function Ti(n,t){return window.getComputedStyle(n)[t]}var rr=(()=>{class n{validateStyleProperty(e){return os(e)}containsElement(e,i){return On(e,i)}getParentElement(e){return Pi(e)}query(e,i,r){return Rn(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,s,a=[],u){return new ht(r,o)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})(),vt=class{static NOOP=new rr},yt=class{};var $a=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Vi=class extends yt{normalizePropertyName(t,e){return Ii(t)}normalizeStyleValue(t,e,i,r){let o="",s=i.toString().trim();if($a.has(e)&&i!==0&&i!=="0")if(typeof i=="number")o="px";else{let a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&r.push(ko(t,i))}return s+o}};var Oi="*";function Ha(n,t){let e=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(i=>qa(i,e,t)):e.push(n),e}function qa(n,t,e){if(n[0]==":"){let u=Ka(n,e);if(typeof u=="function"){t.push(u);return}n=u}let i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(i==null||i.length<4)return e.push(Ho(n)),t;let r=i[1],o=i[2],s=i[3];t.push(ds(r,s));let a=r==Oi&&s==Oi;o[0]=="<"&&!a&&t.push(ds(s,r))}function Ka(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(qo(n)),"* => *"}}var Mi=new Set(["true","1"]),Fi=new Set(["false","0"]);function ds(n,t){let e=Mi.has(n)||Fi.has(n),i=Mi.has(t)||Fi.has(t);return(r,o)=>{let s=n==Oi||n==r,a=t==Oi||t==o;return!s&&e&&typeof r=="boolean"&&(s=r?Mi.has(n):Fi.has(n)),!a&&i&&typeof o=="boolean"&&(a=o?Mi.has(t):Fi.has(t)),s&&a}}var bs=":self",Qa=new RegExp(`s*${bs}s*,?`,"g");function Cs(n,t,e,i){return new qn(n).build(t,e,i)}var us="",qn=class{_driver;constructor(t){this._driver=t}build(t,e,i){let r=new Kn(e);return this._resetContextStyleTimingState(r),he(this,kt(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector=us,t.collectedStyles=new Map,t.collectedStyles.set(us,new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0,o=[],s=[];return t.name.charAt(0)=="@"&&e.errors.push(Vo()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),a.type==V.State){let u=a,p=u.name;p.toString().split(/\s*,\s*/).forEach(v=>{u.name=v,o.push(this.visitState(u,e))}),u.name=p}else if(a.type==V.Transition){let u=this.visitTransition(a,e);i+=u.queryCount,r+=u.depCount,s.push(u)}else e.errors.push(Oo())}),{type:V.Trigger,name:t.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(t,e){let i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){let o=new Set,s=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(u=>{Gn(u).forEach(p=>{s.hasOwnProperty(p)||o.add(p)})})}),o.size&&e.errors.push(Ro(t.name,[...o.values()]))}return{type:V.State,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;let i=he(this,kt(t.animation),e),r=Ha(t.expr,e.errors);return{type:V.Transition,matchers:r,animation:i,queryCount:e.queryCount,depCount:e.depCount,options:_t(t.options)}}visitSequence(t,e){return{type:V.Sequence,steps:t.steps.map(i=>he(this,i,e)),options:_t(t.options)}}visitGroup(t,e){let i=e.currentTime,r=0,o=t.steps.map(s=>{e.currentTime=i;let a=he(this,s,e);return r=Math.max(r,e.currentTime),a});return e.currentTime=r,{type:V.Group,steps:o,options:_t(t.options)}}visitAnimate(t,e){let i=Ja(t.timings,e.errors);e.currentAnimateTimings=i;let r,o=t.styles?t.styles:ft({});if(o.type==V.Keyframes)r=this.visitKeyframes(o,e);else{let s=t.styles,a=!1;if(!s){a=!0;let p={};i.easing&&(p.easing=i.easing),s=ft(p)}e.currentTime+=i.duration+i.delay;let u=this.visitStyle(s,e);u.isEmptyStep=a,r=u}return e.currentAnimateTimings=null,{type:V.Animate,timings:i,style:r,options:null}}visitStyle(t,e){let i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){let i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of r)typeof a=="string"?a===De?i.push(a):e.errors.push(Lo(a)):i.push(new Map(Object.entries(a)));let o=!1,s=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let u of a.values())if(u.toString().indexOf(Ln)>=0){o=!0;break}}}),{type:V.Style,styles:i,easing:s,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){let i=e.currentAnimateTimings,r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,u)=>{let p=e.collectedStyles.get(e.currentQuerySelector),v=p.get(u),g=!0;v&&(o!=r&&o>=v.startTime&&r<=v.endTime&&(e.errors.push(Bo(u,v.startTime,v.endTime,o,r)),g=!1),o=v.startTime),g&&p.set(u,{startTime:o,endTime:r}),e.options&&as(a,e.options,e.errors)})})}visitKeyframes(t,e){let i={type:V.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(jo()),i;let r=1,o=0,s=[],a=!1,u=!1,p=0,v=t.steps.map($=>{let te=this._makeStyleAst($,e),ce=te.offset!=null?te.offset:Za(te.styles),se=0;return ce!=null&&(o++,se=te.offset=ce),u=u||se<0||se>1,a=a||se<p,p=se,s.push(se),te});u&&e.errors.push(Go()),a&&e.errors.push(zo());let g=t.steps.length,I=0;o>0&&o<g?e.errors.push(Uo()):o==0&&(I=r/(g-1));let x=g-1,C=e.currentTime,P=e.currentAnimateTimings,z=P.duration;return v.forEach(($,te)=>{let ce=I>0?te==x?1:I*te:s[te],se=ce*z;e.currentTime=C+P.delay+se,P.duration=se,this._validateStyleAst($,e),$.offset=ce,i.styles.push($)}),i}visitReference(t,e){return{type:V.Reference,animation:he(this,kt(t.animation),e),options:_t(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:V.AnimateChild,options:_t(t.options)}}visitAnimateRef(t,e){return{type:V.AnimateRef,animation:this.visitReference(t.animation,e),options:_t(t.options)}}visitQuery(t,e){let i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;let[o,s]=Ya(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,fe(e.collectedStyles,e.currentQuerySelector,new Map);let a=he(this,kt(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:V.Query,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:t.selector,options:_t(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(Wo());let i=t.timings==="full"?{duration:0,delay:0,easing:"full"}:Xt(t.timings,e.errors,!0);return{type:V.Stagger,animation:he(this,kt(t.animation),e),timings:i,options:null}}};function Ya(n){let t=!!n.split(/\s*,\s*/).find(e=>e==bs);return t&&(n=n.replace(Qa,"")),n=n.replace(/@\*/g,Yt).replace(/@\w+/g,e=>Yt+"-"+e.slice(1)).replace(/:animating/g,Di),[n,t]}function Xa(n){return n?ee({},n):null}var Kn=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(t){this.errors=t}};function Za(n){if(typeof n=="string")return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){let i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}function Ja(n,t){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let o=Xt(n,t).duration;return zn(o,0,"")}let e=n;if(e.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=zn(0,0,"");return o.dynamic=!0,o.strValue=e,o}let r=Xt(e,t);return zn(r.duration,r.delay,r.easing)}function _t(n){return n?(n=ee({},n),n.params&&(n.params=Xa(n.params))):n={},n}function zn(n,t,e){return{duration:n,delay:t,easing:e}}function or(n,t,e,i,r,o,s=null,a=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}var Jt=class{_map=new Map;get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}},el=1,tl=":enter",il=new RegExp(tl,"g"),nl=":leave",rl=new RegExp(nl,"g");function Ss(n,t,e,i,r,o=new Map,s=new Map,a,u,p=[]){return new Qn().buildKeyframes(n,t,e,i,r,o,s,a,u,p)}var Qn=class{buildKeyframes(t,e,i,r,o,s,a,u,p,v=[]){p=p||new Jt;let g=new Yn(t,e,p,r,o,v,[]);g.options=u;let I=u.delay?Le(u.delay):0;g.currentTimeline.delayNextStep(I),g.currentTimeline.setStyles([s],null,g.errors,u),he(this,i,g);let x=g.timelines.filter(C=>C.containsAnimation());if(x.length&&a.size){let C;for(let P=x.length-1;P>=0;P--){let z=x[P];if(z.element===e){C=z;break}}C&&!C.allowOnlyTimelineStyles()&&C.setStyles([a],null,g.errors,u)}return x.length?x.map(C=>C.buildKeyframes()):[or(e,[],[],[],0,I,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){let i=e.subInstructions.get(e.element);if(i){let r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){let i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(let r of t){let o=r?.delay;if(o){let s=typeof o=="number"?o:Le(Vt(o,r?.params??{},e.errors));i.delayNextStep(s)}}}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime,s=i.duration!=null?Le(i.duration):null,a=i.delay!=null?Le(i.delay):null;return s!==0&&t.forEach(u=>{let p=e.appendInstructionToTimeline(u,s,a);o=Math.max(o,p.duration+p.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),he(this,t.animation,e),e.previousNode=t}visitSequence(t,e){let i=e.subContextCount,r=e,o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),o.delay!=null)){r.previousNode.type==V.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Ri);let s=Le(o.delay);r.delayNextStep(s)}t.steps.length&&(t.steps.forEach(s=>he(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){let i=[],r=e.currentTimeline.currentTime,o=t.options&&t.options.delay?Le(t.options.delay):0;t.steps.forEach(s=>{let a=e.createSubContext(t.options);o&&a.delayNextStep(o),he(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>e.currentTimeline.mergeTimelineCollectedStyles(s)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){let i=t.strValue,r=e.params?Vt(i,e.params,e.errors):i;return Xt(r,e.errors)}else return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){let i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());let o=t.style;o.type==V.Keyframes?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){let i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();let o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){let i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,a=e.createSubContext().currentTimeline;a.easing=i.easing,t.styles.forEach(u=>{let p=u.offset||0;a.forwardTime(p*o),a.setStyles(u.styles,u.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){let i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?Le(r.delay):0;o&&(e.previousNode.type===V.Style||i==0&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Ri);let s=i,a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=a.length;let u=null;a.forEach((p,v)=>{e.currentQueryIndex=v;let g=e.createSubContext(t.options,p);o&&g.delayNextStep(o),p===e.element&&(u=g.currentTimeline),he(this,t.animation,g),g.currentTimeline.applyStylesToKeyframe();let I=g.currentTimeline.currentTime;s=Math.max(s,I)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),u&&(e.currentTimeline.mergeTimelineCollectedStyles(u),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){let i=e.parentContext,r=e.currentTimeline,o=t.timings,s=Math.abs(o.duration),a=s*(e.currentQueryTotal-1),u=s*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":u=a-u;break;case"full":u=i.currentStaggerTime;break}let v=e.currentTimeline;u&&v.delayNextStep(u);let g=v.currentTime;he(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-g+(r.startTime-i.currentTimeline.startTime)}},Ri={},Yn=class n{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=Ri;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(t,e,i,r,o,s,a,u){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.currentTimeline=u||new Li(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;let i=t,r=this.options;i.duration!=null&&(r.duration=Le(i.duration)),i.delay!=null&&(r.delay=Le(i.delay));let o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!e||!s.hasOwnProperty(a))&&(s[a]=Vt(o[a],s,this.errors))})}}_copyOptions(){let t={};if(this.options){let e=this.options.params;if(e){let i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){let r=e||this.element,o=new n(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=Ri,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){let r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},o=new Xn(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,o,s){let a=[];if(r&&a.push(this.element),t.length>0){t=t.replace(il,"."+this._enterClassName),t=t.replace(rl,"."+this._leaveClassName);let u=i!=1,p=this._driver.query(this.element,t,u);i!==0&&(p=i<0?p.slice(p.length+i,p.length):p.slice(0,i)),a.push(...p)}return!o&&a.length==0&&s.push($o(e)),a}},Li=class n{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){let e=this._keyframes.size===1&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new n(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=el,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||De),this._currentKeyframe.set(e,De);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);let o=r&&r.params||{},s=ol(t,this._globalTimelineStyles);for(let[a,u]of s){let p=Vt(u,o,i);this._pendingStyles.set(a,p),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??De),this._updateStyle(a,p)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{let r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();let t=new Set,e=new Set,i=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((a,u)=>{let p=new Map([...this._backFill,...a]);p.forEach((v,g)=>{v===Kt?t.add(g):v===De&&e.add(g)}),i||p.set("offset",u/this.duration),r.push(p)});let o=[...t.values()],s=[...e.values()];if(i){let a=r[0],u=new Map(a);a.set("offset",0),u.set("offset",1),r=[a,u]}return or(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}},Xn=class extends Li{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(t,e,i,r,o,s,a=!1){super(t,e,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){let o=[],s=i+e,a=e/s,u=new Map(t[0]);u.set("offset",0),o.push(u);let p=new Map(t[0]);p.set("offset",ms(a)),o.push(p);let v=t.length-1;for(let g=1;g<=v;g++){let I=new Map(t[g]),x=I.get("offset"),C=e+x*i;I.set("offset",ms(C/s)),o.push(I)}i=s,e=0,r="",t=o}return or(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}};function ms(n,t=3){let e=Math.pow(10,t-1);return Math.round(n*e)/e}function ol(n,t){let e=new Map,i;return n.forEach(r=>{if(r==="*"){i??=t.keys();for(let o of i)e.set(o,De)}else for(let[o,s]of r)e.set(o,s)}),e}function ps(n,t,e,i,r,o,s,a,u,p,v,g,I){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:u,preStyleProps:p,postStyleProps:v,totalTime:g,errors:I}}var Un={},Bi=class{_triggerName;ast;_stateStyles;constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return sl(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return t!==void 0&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,o,s,a,u,p,v){let g=[],I=this.ast.options&&this.ast.options.params||Un,x=a&&a.params||Un,C=this.buildStyles(i,x,g),P=u&&u.params||Un,z=this.buildStyles(r,P,g),$=new Set,te=new Map,ce=new Map,se=r==="void",xt={params:ws(P,I),delay:this.ast.options?.delay},Me=v?[]:Ss(t,e,this.ast.animation,o,s,C,z,xt,p,g),de=0;return Me.forEach(ue=>{de=Math.max(ue.duration+ue.delay,de)}),g.length?ps(e,this._triggerName,i,r,se,C,z,[],[],te,ce,de,g):(Me.forEach(ue=>{let ot=ue.element,Et=fe(te,ot,new Set);ue.preStyleProps.forEach(st=>Et.add(st));let wr=fe(ce,ot,new Set);ue.postStyleProps.forEach(st=>wr.add(st)),ot!==e&&$.add(ot)}),ps(e,this._triggerName,i,r,se,C,z,Me,[...$.values()],te,ce,de))}};function sl(n,t,e,i,r){return n.some(o=>o(t,e,i,r))}function ws(n,t){let e=ee({},t);return Object.entries(n).forEach(([i,r])=>{r!=null&&(e[i]=r)}),e}var Zn=class{styles;defaultParams;normalizer;constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){let i=new Map,r=ws(t,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=Vt(s,r,e));let u=this.normalizer.normalizePropertyName(a,e);s=this.normalizer.normalizeStyleValue(a,u,s,e),i.set(a,s)})}),i}};function al(n,t,e){return new Jn(n,t,e)}var Jn=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,e.states.forEach(r=>{let o=r.options&&r.options.params||{};this.states.set(r.name,new Zn(r.style,o,i))}),fs(this.states,"true","1"),fs(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new Bi(t,r,this.states))}),this.fallbackTransition=ll(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(s=>s.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}};function ll(n,t,e){let i=[(s,a)=>!0],r={type:V.Sequence,steps:[],options:null},o={type:V.Transition,animation:r,matchers:i,options:null,queryCount:0,depCount:0};return new Bi(n,o,t)}function fs(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}var cl=new Jt,er=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i}register(t,e){let i=[],r=[],o=Cs(this._driver,e,i,r);if(i.length)throw Qo(i);this._animations.set(t,o)}_buildPlayer(t,e,i){let r=t.element,o=kn(this._normalizer,t.keyframes,e,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){let r=[],o=this._animations.get(t),s,a=new Map;if(o?(s=Ss(this._driver,e,o,Bn,Ai,new Map,new Map,i,cl,r),s.forEach(v=>{let g=fe(a,v.element,new Map);v.postStyleProps.forEach(I=>g.set(I,null))})):(r.push(Yo()),s=[]),r.length)throw Xo(r);a.forEach((v,g)=>{v.forEach((I,x)=>{v.set(x,this._driver.computeStyle(g,x,De))})});let u=s.map(v=>{let g=a.get(v.element);return this._buildPlayer(v,new Map,g)}),p=Ue(u);return this._playersById.set(t,p),p.onDestroy(()=>this.destroy(t)),this.players.push(p),p}destroy(t){let e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);let i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){let e=this._playersById.get(t);if(!e)throw Zo(t);return e}listen(t,e,i,r){let o=Ei(e,"","","");return xi(this._getPlayer(t),i,o,r),()=>{}}command(t,e,i,r){if(i=="register"){this.register(t,r[0]);return}if(i=="create"){let s=r[0]||{};this.create(t,e,s);return}let o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t);break}}},hs="ng-animate-queued",dl=".ng-animate-queued",Wn="ng-animate-disabled",ul=".ng-animate-disabled",ml="ng-star-inserted",pl=".ng-star-inserted",fl=[],xs={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},hl={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Te="__ng_removed",ei=class{namespaceId;value;options;get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;let i=t&&t.hasOwnProperty("value"),r=i?t.value:t;if(this.value=_l(r),i){let o=t,{value:s}=o,a=Ar(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){let e=t.params;if(e){let i=this.options.params;Object.keys(e).forEach(r=>{i[r]==null&&(i[r]=e[r])})}}},Zt="void",$n=new ei(Zt),tr=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this._hostClassName="ng-tns-"+t,Ee(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw Jo(i,e);if(i==null||i.length==0)throw es(e);if(!vl(i))throw ts(i,e);let o=fe(this._elementListeners,t,[]),s={name:e,phase:i,callback:r};o.push(s);let a=fe(this._engine.statesByElement,t,new Map);return a.has(e)||(Ee(t,Qt),Ee(t,Qt+"-"+e),a.set(e,$n)),()=>{this._engine.afterFlush(()=>{let u=o.indexOf(s);u>=0&&o.splice(u,1),this._triggers.has(e)||a.delete(e)})}}register(t,e){return this._triggers.has(t)?!1:(this._triggers.set(t,e),!0)}_getTrigger(t){let e=this._triggers.get(t);if(!e)throw is(t);return e}trigger(t,e,i,r=!0){let o=this._getTrigger(e),s=new ti(this.id,e,t),a=this._engine.statesByElement.get(t);a||(Ee(t,Qt),Ee(t,Qt+"-"+e),this._engine.statesByElement.set(t,a=new Map));let u=a.get(e),p=new ei(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&u&&p.absorbOptions(u.options),a.set(e,p),u||(u=$n),!(p.value===Zt)&&u.value===p.value){if(!Cl(u.params,p.params)){let P=[],z=o.matchStyles(u.value,u.params,P),$=o.matchStyles(p.value,p.params,P);P.length?this._engine.reportError(P):this._engine.afterFlush(()=>{Je(t,z),Ie(t,$)})}return}let I=fe(this._engine.playersByElement,t,[]);I.forEach(P=>{P.namespaceId==this.id&&P.triggerName==e&&P.queued&&P.destroy()});let x=o.matchTransition(u.value,p.value,t,p.params),C=!1;if(!x){if(!r)return;x=o.fallbackTransition,C=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:x,fromState:u,toState:p,player:s,isFallbackTransition:C}),C||(Ee(t,hs),s.onStart(()=>{Ot(t,hs)})),s.onDone(()=>{let P=this.players.indexOf(s);P>=0&&this.players.splice(P,1);let z=this._engine.playersByElement.get(t);if(z){let $=z.indexOf(s);$>=0&&z.splice($,1)}}),this.players.push(s),I.push(s),s}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);let e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){let i=this._engine.driver.query(t,Yt,!0);i.forEach(r=>{if(r[Te])return;let o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){let o=this._engine.statesByElement.get(t),s=new Map;if(o){let a=[];if(o.forEach((u,p)=>{if(s.set(p,u.value),this._triggers.has(p)){let v=this.trigger(t,p,Zt,r);v&&a.push(v)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,s),i&&Ue(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){let e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){let r=new Set;e.forEach(o=>{let s=o.name;if(r.has(s))return;r.add(s);let u=this._triggers.get(s).fallbackTransition,p=i.get(s)||$n,v=new ei(Zt),g=new ti(this.id,s,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:s,transition:u,fromState:p,toState:v,player:g,isFallbackTransition:!0})})}}removeNode(t,e){let i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){let o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let s=t;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{let o=t[Te];(!o||o===xs)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Ee(t,this._hostClassName)}drainQueuedTransitions(t){let e=[];return this._queue.forEach(i=>{let r=i.player;if(r.destroyed)return;let o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){let u=Ei(o,i.triggerName,i.fromState.value,i.toState.value);u._data=t,xi(i.player,a.phase,u,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{let o=i.transition.ast.depCount,s=r.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}},ir=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(t,e)=>{};_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i}get queuedPlayers(){let t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){let i=new tr(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){let i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,a=this.driver.getParentElement(e);for(;a;){let u=r.get(a);if(u){let p=i.indexOf(u);i.splice(p+1,0,t),s=!0;break}a=this.driver.getParentElement(a)}s||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let i=this._fetchNamespace(t);this.namespacesByHostElement.delete(i.hostElement);let r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){let e=new Set,i=this.statesByElement.get(t);if(i){for(let r of i.values())if(r.namespaceId){let o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}}return e}trigger(t,e,i,r){if(Ni(e)){let o=this._fetchNamespace(t);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!Ni(e))return;let o=e[Te];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(e);s>=0&&this.collectedLeaveElements.splice(s,1)}if(t){let s=this._fetchNamespace(t);s&&s.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Ee(t,Wn)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Ot(t,Wn))}removeNode(t,e,i){if(Ni(e)){let r=t?this._fetchNamespace(t):null;r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i);let o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,i)}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,i,r,o){this.collectedLeaveElements.push(e),e[Te]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,i,r,o){return Ni(e)?this._fetchNamespace(t).listen(e,i,r,o):()=>{}}_buildInstruction(t,e,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,Yt,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),this.playersByQueriedElement.size!=0&&(e=this.driver.query(t,Di,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){let e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){let e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Ue(this.players).onDone(()=>t());t()})}processLeaveNode(t){let e=t[Te];if(e&&e.setForRemoval){if(t[Te]=xs,e.namespaceId){this.destroyInnerAnimations(t);let i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(Wn)&&this.markElementAsDisabled(t,!1),this.driver.query(t,ul,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++){let r=this.collectedEnterElements[i];Ee(r,ml)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++){let r=this.collectedLeaveElements[i];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){let i=this._whenQuietFns;this._whenQuietFns=[],e.length?Ue(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw ns(t)}_flushAnimations(t,e){let i=new Jt,r=[],o=new Map,s=[],a=new Map,u=new Map,p=new Map,v=new Set;this.disabledNodes.forEach(b=>{v.add(b);let S=this.driver.query(b,dl,!0);for(let E=0;E<S.length;E++)v.add(S[E])});let g=this.bodyNode,I=Array.from(this.statesByElement.keys()),x=vs(I,this.collectedEnterElements),C=new Map,P=0;x.forEach((b,S)=>{let E=Bn+P++;C.set(S,E),b.forEach(O=>Ee(O,E))});let z=[],$=new Set,te=new Set;for(let b=0;b<this.collectedLeaveElements.length;b++){let S=this.collectedLeaveElements[b],E=S[Te];E&&E.setForRemoval&&(z.push(S),$.add(S),E.hasAnimation?this.driver.query(S,pl,!0).forEach(O=>$.add(O)):te.add(S))}let ce=new Map,se=vs(I,Array.from($));se.forEach((b,S)=>{let E=Ai+P++;ce.set(S,E),b.forEach(O=>Ee(O,E))}),t.push(()=>{x.forEach((b,S)=>{let E=C.get(S);b.forEach(O=>Ot(O,E))}),se.forEach((b,S)=>{let E=ce.get(S);b.forEach(O=>Ot(O,E))}),z.forEach(b=>{this.processLeaveNode(b)})});let xt=[],Me=[];for(let b=this._namespaceList.length-1;b>=0;b--)this._namespaceList[b].drainQueuedTransitions(e).forEach(E=>{let O=E.player,ie=E.element;if(xt.push(O),this.collectedEnterElements.length){let ae=ie[Te];if(ae&&ae.setForMove){if(ae.previousTriggersValues&&ae.previousTriggersValues.has(E.triggerName)){let at=ae.previousTriggersValues.get(E.triggerName),ye=this.statesByElement.get(E.element);if(ye&&ye.has(E.triggerName)){let ui=ye.get(E.triggerName);ui.value=at,ye.set(E.triggerName,ui)}}O.destroy();return}}let Fe=!g||!this.driver.containsElement(g,ie),_e=ce.get(ie),He=C.get(ie),W=this._buildInstruction(E,i,He,_e,Fe);if(W.errors&&W.errors.length){Me.push(W);return}if(Fe){O.onStart(()=>Je(ie,W.fromStyles)),O.onDestroy(()=>Ie(ie,W.toStyles)),r.push(O);return}if(E.isFallbackTransition){O.onStart(()=>Je(ie,W.fromStyles)),O.onDestroy(()=>Ie(ie,W.toStyles)),r.push(O);return}let Pr=[];W.timelines.forEach(ae=>{ae.stretchStartingKeyframe=!0,this.disabledNodes.has(ae.element)||Pr.push(ae)}),W.timelines=Pr,i.append(ie,W.timelines);let Ta={instruction:W,player:O,element:ie};s.push(Ta),W.queriedElements.forEach(ae=>fe(a,ae,[]).push(O)),W.preStyleProps.forEach((ae,at)=>{if(ae.size){let ye=u.get(at);ye||u.set(at,ye=new Set),ae.forEach((ui,En)=>ye.add(En))}}),W.postStyleProps.forEach((ae,at)=>{let ye=p.get(at);ye||p.set(at,ye=new Set),ae.forEach((ui,En)=>ye.add(En))})});if(Me.length){let b=[];Me.forEach(S=>{b.push(rs(S.triggerName,S.errors))}),xt.forEach(S=>S.destroy()),this.reportError(b)}let de=new Map,ue=new Map;s.forEach(b=>{let S=b.element;i.has(S)&&(ue.set(S,S),this._beforeAnimationBuild(b.player.namespaceId,b.instruction,de))}),r.forEach(b=>{let S=b.element;this._getPreviousPlayers(S,!1,b.namespaceId,b.triggerName,null).forEach(O=>{fe(de,S,[]).push(O),O.destroy()})});let ot=z.filter(b=>ys(b,u,p)),Et=new Map;_s(Et,this.driver,te,p,De).forEach(b=>{ys(b,u,p)&&ot.push(b)});let st=new Map;x.forEach((b,S)=>{_s(st,this.driver,new Set(b),u,Kt)}),ot.forEach(b=>{let S=Et.get(b),E=st.get(b);Et.set(b,new Map([...S?.entries()??[],...E?.entries()??[]]))});let xn=[],xr=[],Er={};s.forEach(b=>{let{element:S,player:E,instruction:O}=b;if(i.has(S)){if(v.has(S)){E.onDestroy(()=>Ie(S,O.toStyles)),E.disabled=!0,E.overrideTotalTime(O.totalTime),r.push(E);return}let ie=Er;if(ue.size>1){let _e=S,He=[];for(;_e=_e.parentNode;){let W=ue.get(_e);if(W){ie=W;break}He.push(_e)}He.forEach(W=>ue.set(W,ie))}let Fe=this._buildAnimation(E.namespaceId,O,de,o,st,Et);if(E.setRealPlayer(Fe),ie===Er)xn.push(E);else{let _e=this.playersByElement.get(ie);_e&&_e.length&&(E.parentPlayer=Ue(_e)),r.push(E)}}else Je(S,O.fromStyles),E.onDestroy(()=>Ie(S,O.toStyles)),xr.push(E),v.has(S)&&r.push(E)}),xr.forEach(b=>{let S=o.get(b.element);if(S&&S.length){let E=Ue(S);b.setRealPlayer(E)}}),r.forEach(b=>{b.parentPlayer?b.syncPlayerEvents(b.parentPlayer):b.destroy()});for(let b=0;b<z.length;b++){let S=z[b],E=S[Te];if(Ot(S,Ai),E&&E.hasAnimation)continue;let O=[];if(a.size){let Fe=a.get(S);Fe&&Fe.length&&O.push(...Fe);let _e=this.driver.query(S,Di,!0);for(let He=0;He<_e.length;He++){let W=a.get(_e[He]);W&&W.length&&O.push(...W)}}let ie=O.filter(Fe=>!Fe.destroyed);ie.length?yl(this,S,ie):this.processLeaveNode(S)}return z.length=0,xn.forEach(b=>{this.players.push(b),b.onDone(()=>{b.destroy();let S=this.players.indexOf(b);this.players.splice(S,1)}),b.play()}),xn}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,o){let s=[];if(e){let a=this.playersByQueriedElement.get(t);a&&(s=a)}else{let a=this.playersByElement.get(t);if(a){let u=!o||o==Zt;a.forEach(p=>{p.queued||!u&&p.triggerName!=r||s.push(p)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(t,e,i){let r=e.triggerName,o=e.element,s=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:r;for(let u of e.timelines){let p=u.element,v=p!==o,g=fe(i,p,[]);this._getPreviousPlayers(p,v,s,a,e.toState).forEach(x=>{let C=x.getRealPlayer();C.beforeDestroy&&C.beforeDestroy(),x.destroy(),g.push(x)})}Je(o,e.fromStyles)}_buildAnimation(t,e,i,r,o,s){let a=e.triggerName,u=e.element,p=[],v=new Set,g=new Set,I=e.timelines.map(C=>{let P=C.element;v.add(P);let z=P[Te];if(z&&z.removedBeforeQueried)return new ht(C.duration,C.delay);let $=P!==u,te=bl((i.get(P)||fl).map(de=>de.getRealPlayer())).filter(de=>{let ue=de;return ue.element?ue.element===P:!1}),ce=o.get(P),se=s.get(P),xt=kn(this._normalizer,C.keyframes,ce,se),Me=this._buildPlayer(C,xt,te);if(C.subTimeline&&r&&g.add(P),$){let de=new ti(t,a,P);de.setRealPlayer(Me),p.push(de)}return Me});p.forEach(C=>{fe(this.playersByQueriedElement,C.element,[]).push(C),C.onDone(()=>gl(this.playersByQueriedElement,C.element,C))}),v.forEach(C=>Ee(C,jn));let x=Ue(I);return x.onDestroy(()=>{v.forEach(C=>Ot(C,jn)),Ie(u,e.toStyles)}),g.forEach(C=>{fe(r,C,[]).push(x)}),x}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new ht(t.duration,t.delay)}},ti=class{namespaceId;triggerName;element;_player=new ht;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>xi(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){let e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){fe(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){let e=this._player;e.triggerCallback&&e.triggerCallback(t)}};function gl(n,t,e){let i=n.get(t);if(i){if(i.length){let r=i.indexOf(e);i.splice(r,1)}i.length==0&&n.delete(t)}return i}function _l(n){return n??null}function Ni(n){return n&&n.nodeType===1}function vl(n){return n=="start"||n=="done"}function gs(n,t){let e=n.style.display;return n.style.display=t??"none",e}function _s(n,t,e,i,r){let o=[];e.forEach(u=>o.push(gs(u)));let s=[];i.forEach((u,p)=>{let v=new Map;u.forEach(g=>{let I=t.computeStyle(p,g,r);v.set(g,I),(!I||I.length==0)&&(p[Te]=hl,s.push(p))}),n.set(p,v)});let a=0;return e.forEach(u=>gs(u,o[a++])),s}function vs(n,t){let e=new Map;if(n.forEach(a=>e.set(a,[])),t.length==0)return e;let i=1,r=new Set(t),o=new Map;function s(a){if(!a)return i;let u=o.get(a);if(u)return u;let p=a.parentNode;return e.has(p)?u=p:r.has(p)?u=i:u=s(p),o.set(a,u),u}return t.forEach(a=>{let u=s(a);u!==i&&e.get(u).push(a)}),e}function Ee(n,t){n.classList?.add(t)}function Ot(n,t){n.classList?.remove(t)}function yl(n,t,e){Ue(e).onDone(()=>n.processLeaveNode(t))}function bl(n){let t=[];return Es(n,t),t}function Es(n,t){for(let e=0;e<n.length;e++){let i=n[e];i instanceof bi?Es(i.players,t):t.push(i)}}function Cl(n,t){let e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){let o=e[r];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}function ys(n,t,e){let i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(o=>r.add(o)):t.set(n,i),e.delete(n),!0}var Rt=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(t,e)=>{};constructor(t,e,i){this._driver=e,this._normalizer=i,this._transitionEngine=new ir(t.body,e,i),this._timelineEngine=new er(t.body,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,i,r,o){let s=t+"-"+r,a=this._triggerCache[s];if(!a){let u=[],p=[],v=Cs(this._driver,o,u,p);if(u.length)throw Ko(r,u);a=al(r,v,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(e,r,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i){this._transitionEngine.removeNode(t,e,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if(i.charAt(0)=="@"){let[o,s]=Vn(i),a=r;this._timelineEngine.command(o,e,s,a)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,o){if(i.charAt(0)=="@"){let[s,a]=Vn(i);return this._timelineEngine.listen(s,e,a,o)}return this._transitionEngine.listen(t,e,i,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}};function Sl(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=Hn(t[0]),t.length>1&&(i=Hn(t[t.length-1]))):t instanceof Map&&(e=Hn(t)),e||i?new wl(n,e,i):null}var wl=(()=>{class n{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Ie(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ie(this._element,this._initialStyles),this._endStyles&&(Ie(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Je(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Je(this._element,this._endStyles),this._endStyles=null),Ie(this._element,this._initialStyles),this._state=3)}}return n})();function Hn(n){let t=null;return n.forEach((e,i)=>{xl(i)&&(t=t||new Map,t.set(i,e))}),t}function xl(n){return n==="display"||n==="position"}var ji=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;let e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){let e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{r!=="offset"&&t.set(r,this._finished?i:Ti(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){let e=t==="start"?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}},Gi=class{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}containsElement(t,e){return On(t,e)}getParentElement(t){return Pi(t)}query(t,e,i){return Rn(t,e,i)}computeStyle(t,e,i){return Ti(t,e)}animate(t,e,i,r,o,s=[]){let a=r==0?"both":"forwards",u={duration:i,delay:r,fill:a};o&&(u.easing=o);let p=new Map,v=s.filter(x=>x instanceof ji);ls(i,r)&&v.forEach(x=>{x.currentSnapshot.forEach((C,P)=>p.set(P,C))});let g=ss(e).map(x=>new Map(x));g=cs(t,g,p);let I=Sl(t,g);return new ji(t,g,u,I)}};var ki="@",Ps="@.disabled",zi=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.parentNode(e)&&this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){e.charAt(0)==ki&&e==Ps?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i,r){return this.delegate.listen(t,e,i,r)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}},nr=class extends zi{factory;constructor(t,e,i,r,o){super(e,i,r,o),this.factory=t,this.namespaceId=e}setProperty(t,e,i){e.charAt(0)==ki?e.charAt(1)=="."&&e==Ps?(i=i===void 0?!0:!!i,this.disableAnimations(t,i)):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i,r){if(e.charAt(0)==ki){let o=El(t),s=e.slice(1),a="";return s.charAt(0)!=ki&&([s,a]=Pl(s)),this.engine.listen(this.namespaceId,o,s,a,u=>{let p=u._data||-1;this.factory.scheduleListenerCallback(p,i,u)})}return this.delegate.listen(t,e,i,r)}};function El(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function Pl(n){let t=n.indexOf("."),e=n.substring(0,t),i=n.slice(t+1);return[e,i]}var Ui=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(t,e,i){this.delegate=t,this.engine=e,this._zone=i,e.onRemovalComplete=(r,o)=>{o?.removeChild(null,r)}}createRenderer(t,e){let r=this.delegate.createRenderer(t,e);if(!t||!e?.data?.animation){let p=this._rendererCache,v=p.get(r);if(!v){let g=()=>p.delete(r);v=new zi("",r,this.engine,g),p.set(r,v)}return v}let o=e.id,s=e.id+"-"+this._currentId;this._currentId++,this.engine.register(s,t);let a=p=>{Array.isArray(p)?p.forEach(a):this.engine.registerTrigger(o,s,t,p.name,p)};return e.data.animation.forEach(a),new nr(this,s,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,i){if(t>=0&&t<this._microtaskId){this._zone.run(()=>e(i));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),r.push([e,i])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(t){this.engine.flush(),this.delegate.componentReplaced?.(t)}};var Dl=(()=>{class n extends Rt{constructor(e,i,r){super(e,i,r)}ngOnDestroy(){this.flush()}static \u0275fac=function(i){return new(i||n)(qe(jr),qe(vt),qe(yt))};static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})();function Il(){return new Vi}function Tl(n,t,e){return new Ui(n,t,e)}var As=[{provide:yt,useFactory:Il},{provide:Rt,useClass:Dl},{provide:$r,useFactory:Tl,deps:[go,Rt,qr]}],Bu=[{provide:vt,useClass:rr},{provide:Pn,useValue:"NoopAnimations"},...As],Ml=[{provide:vt,useFactory:()=>new Gi},{provide:Pn,useFactory:()=>"BrowserAnimations"},...As];function Ds(){return Hr("NgEagerAnimations"),[...Ml]}var Wi=class n{constructor(t){this.platformId=t}loadFlowbite(t){ho(this.platformId)&&import("./chunk-XCQAQCAC.js").then(e=>{t(e)})}static \u0275fac=function(e){return new(e||n)(qe(Ur))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})};var bt=class extends Error{};bt.prototype.name="InvalidTokenError";function Nl(n){return decodeURIComponent(atob(n).replace(/(.)/g,(t,e)=>{let i=e.charCodeAt(0).toString(16).toUpperCase();return i.length<2&&(i="0"+i),"%"+i}))}function kl(n){let t=n.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return Nl(t)}catch{return atob(t)}}function Is(n,t){if(typeof n!="string")throw new bt("Invalid token specified: must be a string");t||(t={});let e=t.header===!0?0:1,i=n.split(".")[e];if(typeof i!="string")throw new bt(`Invalid token specified: missing part #${e+1}`);let r;try{r=kl(i)}catch(o){throw new bt(`Invalid token specified: invalid base64 for part #${e+1} (${o.message})`)}try{return JSON.parse(r)}catch(o){throw new bt(`Invalid token specified: invalid json for part #${e+1} (${o.message})`)}}var Be=class n{_HttpClient=w(Ve);_CookieService=w(Se);userInfo;decodeToken(){this.userInfo=Is(this._CookieService.get("token"))}SignUp(t){return this._HttpClient.post(`${oe.baseURL}/api/v1/auth/signup`,t)}SignIn(t){return this._HttpClient.post(`${oe.baseURL}/api/v1/auth/signin`,t)}static \u0275fac=function(e){return new(e||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})};function Vl(n,t){n&1&&(l(0,"ul",10)(1,"li")(2,"a",23),m(3,"Home"),c()(),l(4,"li")(5,"a",24),m(6,"Wishlist"),c()(),l(7,"li")(8,"a",25),m(9,"Brands"),c()(),l(10,"li")(11,"a",26),m(12,"Categories"),c()(),l(13,"li")(14,"a",27),m(15,"Products"),c()()())}function Ol(n,t){if(n&1&&(l(0,"li",12)(1,"a",28)(2,"span",29),m(3),c(),h(4,"i",30),c()()),n&2){let e=_();d(3),N(" ",e.cartBadge," ")}}function Rl(n,t){n&1&&(l(0,"li")(1,"a",31),m(2,"Login"),c()(),l(3,"li")(4,"a",32),m(5,"Register"),c()())}function Ll(n,t){if(n&1){let e=G();l(0,"li")(1,"a",33),A("click",function(){T(e);let r=_();return M(r.logOut())}),m(2,"Signout"),c()(),l(3,"span",34),m(4),c()}if(n&2){let e=_();d(4),U(e.userName)}}var Lt=class n{constructor(t,e,i,r,o){this._CartService=t;this._CookieService=e;this.flowbiteService=i;this._AuthService=r;this._Router=o}userName;cartBadge;check=uo(!1);logOut(){this._Router.navigate(["/login"]),this._CookieService.delete("token"),this._AuthService.userInfo=null}ngOnInit(){this.flowbiteService.loadFlowbite(t=>{Mo()}),this._CookieService.get("token")&&(this._AuthService.decodeToken(),console.log(this._AuthService.userInfo),this.userName=this._AuthService.userInfo.name,this._CartService.GetLoggedUserCart().subscribe({next:t=>{this.cartBadge=t.numOfCartItems}})),this._CartService.cartCount.subscribe({next:t=>{this.cartBadge=t}})}static \u0275fac=function(e){return new(e||n)(y(xe),y(Se),y(Wi),y(Be),y(Oe))};static \u0275cmp=D({type:n,selectors:[["app-navbar"]],inputs:{check:[1,"check"]},decls:31,vars:4,consts:[[1,"bg-green-50","sticky","top-0","z-50"],[1,"container-auto","overflow-hidden"],[1,"max-w-screen-2xl","flex","flex-wrap","items-center","justify-between","mx-auto","p-3"],[1,"flex","justify-start","items-center","w-[30%]","md:w-[15%]","lg:w-[10%]"],["src","./images/freshcart-logo.svg","alt","",1,"w-full","block"],["data-collapse-toggle","navbar-default","type","button","aria-controls","navbar-default","aria-expanded","false",1,"inline-flex","items-center","p-2","md:hidden"],[1,"sr-only"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 17 14",1,"w-6","h-6"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M1 1h15M1 7h15M1 13h15"],["id","navbar-default",1,"hidden","items-center","grow","w-full","lg:w-[80%]","md:flex"],[1,"ms-4","font-medium","flex","flex-col","md:flex-row","md:space-x-3","md:mt-0"],[1,"ms-auto","font-medium","flex","flex-col","md:flex-row","md:items-center","md:space-x-3","md:mt-0"],[1,"relative"],["href","https://www.facebook.com/","target","_blank",1,"p-2","bg-emerald-100","rounded-full","hover:bg-emerald-300","transition"],[1,"fab","fa-facebook"],["href","https://twitter.com/","target","_blank",1,"p-2","bg-emerald-100","rounded-full","hover:bg-emerald-300","transition"],[1,"fab","fa-twitter"],["href","https://www.linkedin.com/","target","_blank",1,"p-2","bg-emerald-100","rounded-full","hover:bg-emerald-300","transition"],[1,"fab","fa-linkedin"],["href","https://www.tiktok.com/","target","_blank",1,"p-2","bg-emerald-100","rounded-full","hover:bg-emerald-300","transition"],[1,"fab","fa-tiktok"],["href","https://www.youtube.com/","target","_blank",1,"p-2","bg-emerald-100","rounded-full","hover:bg-emerald-300","transition"],[1,"fab","fa-youtube"],["routerLink","/home","routerLinkActive","text-emerald-800 hover:bg-emerald-200",1,"block","text-emerald-500","transition-all","duration-300","font-semibold","py-2","px-4","rounded-lg"],["routerLink","/wishlist","routerLinkActive","text-emerald-800 hover:bg-emerald-200",1,"block","text-emerald-500","transition-all","duration-300","font-semibold","py-2","px-4","rounded-lg"],["routerLink","/brands","routerLinkActive","text-emerald-800 hover:bg-emerald-200",1,"block","text-emerald-500","transition-all","duration-300","font-semibold","py-2","px-4","rounded-lg"],["routerLink","/categories","routerLinkActive","text-emerald-800 hover:bg-emerald-200",1,"block","text-emerald-500","transition-all","duration-300","font-semibold","py-2","px-4","rounded-lg"],["routerLink","/products","routerLinkActive","text-emerald-800 hover:bg-emerald-200",1,"block","text-emerald-500","transition-all","duration-300","font-semibold","py-2","px-4","rounded-lg"],["routerLink","/cart",1,"relative","block","text-emerald-800","hover:text-emerald-500","transition-all","duration-500","font-bold","py-2","px-3"],[1,"absolute","-top-1","-right-2","bg-emerald-500","text-green-200","text-xs","px-2","py-0.5","rounded-full"],[1,"fa-solid","fa-cart-arrow-down","fa-lg"],["routerLink","/login",1,"block","text-emerald-800","hover:bg-emerald-200","transition","py-2","px-4","rounded-lg"],["routerLink","/register",1,"block","text-emerald-800","hover:bg-emerald-200","transition","py-2","px-4","rounded-lg"],[1,"cursor-pointer","text-emerald-800","hover:bg-red-100","hover:text-red-500","transition","py-2","px-4","rounded-lg",3,"click"],[1,"text-md","font-bold","text-emerald-800"]],template:function(e,i){e&1&&(l(0,"nav",0)(1,"div",1)(2,"div",2)(3,"a",3),h(4,"img",4),c(),l(5,"button",5)(6,"span",6),m(7,"Open main menu"),c(),Lr(),l(8,"svg",7),h(9,"path",8),c()(),Br(),l(10,"div",9),B(11,Vl,16,0,"ul",10),l(12,"ul",11),B(13,Ol,5,1,"li",12),l(14,"li")(15,"a",13),h(16,"i",14),c()(),l(17,"li")(18,"a",15),h(19,"i",16),c()(),l(20,"li")(21,"a",17),h(22,"i",18),c()(),l(23,"li")(24,"a",19),h(25,"i",20),c()(),l(26,"li")(27,"a",21),h(28,"i",22),c()(),B(29,Rl,6,0),B(30,Ll,5,1),c()()()()()),e&2&&(d(11),j(i.check()?11:-1),d(2),j(i.check()?13:-1),d(16),j(i.check()==!1?29:-1),d(),j(i.check()?30:-1))},dependencies:[re,xo],encapsulation:2})};var $i=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=D({type:n,selectors:[["app-auth-layout"]],decls:3,vars:1,consts:[[1,"sticky","top-0","end-0","start-0","z-[100000]"],[3,"check"]],template:function(e,i){e&1&&(l(0,"div",0),h(1,"app-navbar",1),c(),h(2,"router-outlet")),e&2&&(d(),f("check",!1))},dependencies:[Nt,Lt],encapsulation:2})};var Gs=(()=>{class n{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,i){this._renderer=e,this._elementRef=i}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(i){return new(i||n)(y(Ht),y(dt))};static \u0275dir=le({type:n})}return n})(),mr=(()=>{class n extends Gs{static \u0275fac=(()=>{let e;return function(r){return(e||(e=pi(n)))(r||n)}})();static \u0275dir=le({type:n,features:[Ne]})}return n})(),si=new Ge("");var Bl={provide:si,useExisting:lt(()=>ge),multi:!0};function jl(){let n=Dn()?Dn().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var Gl=new Ge(""),ge=(()=>{class n extends Gs{_compositionMode;_composing=!1;constructor(e,i,r){super(e,i),this._compositionMode=r,this._compositionMode==null&&(this._compositionMode=!jl())}writeValue(e){let i=e??"";this.setProperty("value",i)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(i){return new(i||n)(y(Ht),y(dt),y(Gl,8))};static \u0275dir=le({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&A("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},standalone:!1,features:[mt([Bl]),Ne]})}return n})();function pr(n){return n==null||fr(n)===0}function fr(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var hr=new Ge(""),gr=new Ge(""),zl=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,R=class{static min(t){return Ul(t)}static max(t){return Wl(t)}static required(t){return $l(t)}static requiredTrue(t){return Hl(t)}static email(t){return ql(t)}static minLength(t){return Kl(t)}static maxLength(t){return Ql(t)}static pattern(t){return Yl(t)}static nullValidator(t){return zs()}static compose(t){return Ks(t)}static composeAsync(t){return Ys(t)}};function Ul(n){return t=>{if(t.value==null||n==null)return null;let e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}function Wl(n){return t=>{if(t.value==null||n==null)return null;let e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}function $l(n){return pr(n.value)?{required:!0}:null}function Hl(n){return n.value===!0?null:{required:!0}}function ql(n){return pr(n.value)||zl.test(n.value)?null:{email:!0}}function Kl(n){return t=>{let e=t.value?.length??fr(t.value);return e===null||e===0?null:e<n?{minlength:{requiredLength:n,actualLength:e}}:null}}function Ql(n){return t=>{let e=t.value?.length??fr(t.value);return e!==null&&e>n?{maxlength:{requiredLength:n,actualLength:e}}:null}}function Yl(n){if(!n)return zs;let t,e;return typeof n=="string"?(e="",n.charAt(0)!=="^"&&(e+="^"),e+=n,n.charAt(n.length-1)!=="$"&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(pr(i.value))return null;let r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}function zs(n){return null}function Us(n){return n!=null}function Ws(n){return Qr(n)?Ir(n):n}function $s(n){let t={};return n.forEach(e=>{t=e!=null?ee(ee({},t),e):t}),Object.keys(t).length===0?null:t}function Hs(n,t){return t.map(e=>e(n))}function Xl(n){return!n.validate}function qs(n){return n.map(t=>Xl(t)?t:e=>t.validate(e))}function Ks(n){if(!n)return null;let t=n.filter(Us);return t.length==0?null:function(e){return $s(Hs(e,t))}}function Qs(n){return n!=null?Ks(qs(n)):null}function Ys(n){if(!n)return null;let t=n.filter(Us);return t.length==0?null:function(e){let i=Hs(e,t).map(Ws);return Fr(i).pipe(Mr($s))}}function Xs(n){return n!=null?Ys(qs(n)):null}function Fs(n,t){return n===null?[t]:Array.isArray(n)?[...n,t]:[n,t]}function Zs(n){return n._rawValidators}function Js(n){return n._rawAsyncValidators}function sr(n){return n?Array.isArray(n)?n:[n]:[]}function qi(n,t){return Array.isArray(n)?n.includes(t):n===t}function Ns(n,t){let e=sr(t);return sr(n).forEach(r=>{qi(e,r)||e.push(r)}),e}function ks(n,t){return sr(t).filter(e=>!qi(n,e))}var Ki=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Qs(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Xs(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},Ct=class extends Ki{name;get formDirective(){return null}get path(){return null}},St=class extends Ki{_parent=null;name=null;valueAccessor=null},Qi=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Zl={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Dm=ve(ee({},Zl),{"[class.ng-submitted]":"isSubmitted"}),Ae=(()=>{class n extends Qi{constructor(e){super(e)}static \u0275fac=function(i){return new(i||n)(y(St,2))};static \u0275dir=le({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&Qe("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},standalone:!1,features:[Ne]})}return n})(),tt=(()=>{class n extends Qi{constructor(e){super(e)}static \u0275fac=function(i){return new(i||n)(y(Ct,10))};static \u0275dir=le({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&Qe("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},standalone:!1,features:[Ne]})}return n})();var ii="VALID",Hi="INVALID",Bt="PENDING",ni="DISABLED",et=class{},Yi=class extends et{value;source;constructor(t,e){super(),this.value=t,this.source=e}},ri=class extends et{pristine;source;constructor(t,e){super(),this.pristine=t,this.source=e}},oi=class extends et{touched;source;constructor(t,e){super(),this.touched=t,this.source=e}},jt=class extends et{status;source;constructor(t,e){super(),this.status=t,this.source=e}},ar=class extends et{source;constructor(t){super(),this.source=t}},lr=class extends et{source;constructor(t){super(),this.source=t}};function _r(n){return(Ji(n)?n.validators:n)||null}function Jl(n){return Array.isArray(n)?Qs(n):n||null}function vr(n,t){return(Ji(t)?t.asyncValidators:n)||null}function ec(n){return Array.isArray(n)?Xs(n):n||null}function Ji(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function ea(n,t,e){let i=n.controls;if(!(t?Object.keys(i):i).length)throw new k(1e3,"");if(!i[e])throw new k(1001,"")}function ta(n,t,e){n._forEachChild((i,r)=>{if(e[r]===void 0)throw new k(1002,"")})}var Gt=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,e){this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Ye(this.statusReactive)}set status(t){Ye(()=>this.statusReactive.set(t))}_status=qt(()=>this.statusReactive());statusReactive=ct(void 0);get valid(){return this.status===ii}get invalid(){return this.status===Hi}get pending(){return this.status==Bt}get disabled(){return this.status===ni}get enabled(){return this.status!==ni}errors;get pristine(){return Ye(this.pristineReactive)}set pristine(t){Ye(()=>this.pristineReactive.set(t))}_pristine=qt(()=>this.pristineReactive());pristineReactive=ct(!0);get dirty(){return!this.pristine}get touched(){return Ye(this.touchedReactive)}set touched(t){Ye(()=>this.touchedReactive.set(t))}_touched=qt(()=>this.touchedReactive());touchedReactive=ct(!1);get untouched(){return!this.touched}_events=new mi;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(Ns(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Ns(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(ks(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(ks(t,this._rawAsyncValidators))}hasValidator(t){return qi(this._rawValidators,t)}hasAsyncValidator(t){return qi(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let e=this.touched===!1;this.touched=!0;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(ve(ee({},t),{sourceControl:i})),e&&t.emitEvent!==!1&&this._events.next(new oi(!0,i))}markAllAsDirty(t={}){this.markAsDirty({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsDirty(t))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=t.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:i})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,i),e&&t.emitEvent!==!1&&this._events.next(new oi(!1,i))}markAsDirty(t={}){let e=this.pristine===!0;this.pristine=!1;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(ve(ee({},t),{sourceControl:i})),e&&t.emitEvent!==!1&&this._events.next(new ri(!1,i))}markAsPristine(t={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=t.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,i),e&&t.emitEvent!==!1&&this._events.next(new ri(!0,i))}markAsPending(t={}){this.status=Bt;let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new jt(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(ve(ee({},t),{sourceControl:e}))}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=ni,this.errors=null,this._forEachChild(r=>{r.disable(ve(ee({},t),{onlySelf:!0}))}),this._updateValue();let i=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Yi(this.value,i)),this._events.next(new jt(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ve(ee({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=ii,this._forEachChild(i=>{i.enable(ve(ee({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(ve(ee({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ii||this.status===Bt)&&this._runAsyncValidator(i,t.emitEvent)}let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Yi(this.value,e)),this._events.next(new jt(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(ve(ee({},t),{sourceControl:e}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ni:ii}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=Bt,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1,shouldHaveEmitted:t!==!1};let i=Ws(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){let i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,i){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||i)&&this._events.next(new jt(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,i)}_initObservables(){this.valueChanges=new be,this.statusChanges=new be}_calculateStatus(){return this._allControlsDisabled()?ni:this.errors?Hi:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Bt)?Bt:this._anyControlsHaveStatus(Hi)?Hi:ii}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),r&&this._events.next(new ri(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new oi(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Ji(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=Jl(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=ec(this._rawAsyncValidators)}},Pe=class extends Gt{constructor(t,e,i){super(_r(e),vr(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){ta(this,!0,t),Object.keys(t).forEach(i=>{ea(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(Object.keys(t).forEach(i=>{let r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t?t[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>i._syncPendingControls()?!0:e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{let i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var cr=class extends Pe{};var en=new Ge("",{providedIn:"root",factory:()=>tn}),tn="always";function ia(n,t){return[...t.path,n]}function dr(n,t,e=tn){yr(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(n.disabled),ic(n,t),rc(n,t),nc(n,t),tc(n,t)}function Vs(n,t,e=!0){let i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),Zi(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Xi(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function tc(n,t){if(t.valueAccessor.setDisabledState){let e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}function yr(n,t){let e=Zs(n);t.validator!==null?n.setValidators(Fs(e,t.validator)):typeof e=="function"&&n.setValidators([e]);let i=Js(n);t.asyncValidator!==null?n.setAsyncValidators(Fs(i,t.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let r=()=>n.updateValueAndValidity();Xi(t._rawValidators,r),Xi(t._rawAsyncValidators,r)}function Zi(n,t){let e=!1;if(n!==null){if(t.validator!==null){let r=Zs(n);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==t.validator);o.length!==r.length&&(e=!0,n.setValidators(o))}}if(t.asyncValidator!==null){let r=Js(n);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==t.asyncValidator);o.length!==r.length&&(e=!0,n.setAsyncValidators(o))}}}let i=()=>{};return Xi(t._rawValidators,i),Xi(t._rawAsyncValidators,i),e}function ic(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&na(n,t)})}function nc(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&na(n,t),n.updateOn!=="submit"&&n.markAsTouched()})}function na(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function rc(n,t){let e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}function oc(n,t){n==null,yr(n,t)}function sc(n,t){return Zi(n,t)}function ra(n,t){if(!n.hasOwnProperty("model"))return!1;let e=n.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function ac(n){return Object.getPrototypeOf(n.constructor)===mr}function lc(n,t){n._syncPendingControls(),t.forEach(e=>{let i=e.control;i.updateOn==="submit"&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function oa(n,t){if(!t)return null;Array.isArray(t);let e,i,r;return t.forEach(o=>{o.constructor===ge?e=o:ac(o)?i=o:r=o}),r||i||e||null}function cc(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function Os(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function Rs(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var J=class extends Gt{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,e,i){super(_r(e),vr(i,e)),this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ji(e)&&(e.nonNullable||e.initialValueIsDefault)&&(Rs(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Os(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Os(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){Rs(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var dc=n=>n instanceof J;var uc={provide:St,useExisting:lt(()=>ai)},Ls=Promise.resolve(),ai=(()=>{class n extends St{_changeDetectorRef;callSetDisabledState;control=new J;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new be;constructor(e,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=oa(this,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),ra(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){dr(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){Ls.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let i=e.isDisabled.currentValue,r=i!==0&&mo(i);Ls.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?ia(e,this._parent):[e]}static \u0275fac=function(i){return new(i||n)(y(Ct,9),y(hr,10),y(gr,10),y(si,10),y(pt,8),y(en,8))};static \u0275dir=le({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[mt([uc]),Ne,Ke]})}return n})();var it=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=le({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var sa=new Ge("");var mc={provide:Ct,useExisting:lt(()=>We)},We=(()=>{class n extends Ct{callSetDisabledState;get submitted(){return Ye(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}_submitted=qt(()=>this._submittedReactive());_submittedReactive=ct(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new be;constructor(e,i,r){super(),this.callSetDisabledState=r,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Zi(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let i=this.form.get(e.path);return dr(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){Vs(e.control||null,e,!1),cc(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this._submittedReactive.set(!0),lc(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new ar(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0,i={}){this.form.reset(e,i),this._submittedReactive.set(!1),i?.emitEvent!==!1&&this.form._events.next(new lr(this.form))}_updateDomValue(){this.directives.forEach(e=>{let i=e.control,r=this.form.get(e.path);i!==r&&(Vs(i||null,e),dc(r)&&(dr(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let i=this.form.get(e.path);oc(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let i=this.form.get(e.path);i&&sc(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){yr(this.form,this),this._oldForm&&Zi(this._oldForm,this)}static \u0275fac=function(i){return new(i||n)(y(hr,10),y(gr,10),y(en,8))};static \u0275dir=le({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){i&1&&A("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[mt([mc]),Ne,Ke]})}return n})();var pc={provide:St,useExisting:lt(()=>$e)},$e=(()=>{class n extends St{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(e){}model;update=new be;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(e,i,r,o,s){super(),this._ngModelWarningConfig=s,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=oa(this,o)}ngOnChanges(e){this._added||this._setUpControl(),ra(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return ia(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(i){return new(i||n)(y(Ct,13),y(hr,10),y(gr,10),y(si,10),y(sa,8))};static \u0275dir=le({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[mt([pc]),Ne,Ke]})}return n})();var fc={provide:si,useExisting:lt(()=>la),multi:!0};function aa(n,t){return n==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${n}: ${t}`.slice(0,50))}function hc(n){return n.split(":")[0]}var la=(()=>{class n extends mr{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;appRefInjector=w(Yr).injector;destroyRef=w(Gr);cdr=w(pt);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,Kr({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(e){this.cdr.markForCheck(),this.value=e;let i=this._getOptionId(e),r=aa(i,e);this.setProperty("value",r)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){let i=hc(e);return this._optionMap.has(i)?this._optionMap.get(i):e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=pi(n)))(r||n)}})();static \u0275dir=le({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){i&1&&A("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[mt([fc]),Ne]})}return n})(),ca=(()=>{class n{_element;_renderer;_select;id;constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue(aa(this.id,e)),this._select._writeValueAfterRender())}set value(e){this._setElementValue(e),this._select&&this._select._writeValueAfterRender()}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(i){return new(i||n)(y(dt),y(Ht),y(la,9))};static \u0275dir=le({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),gc={provide:si,useExisting:lt(()=>da),multi:!0};function Bs(n,t){return n==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${n}: ${t}`.slice(0,50))}function _c(n){return n.split(":")[0]}var da=(()=>{class n extends mr{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let i;if(Array.isArray(e)){let r=e.map(o=>this._getOptionId(o));i=(o,s)=>{o._setSelected(r.indexOf(s.toString())>-1)}}else i=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{let r=[],o=i.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let u=s[a],p=this._getOptionValue(u.value);r.push(p)}}else{let s=i.options;for(let a=0;a<s.length;a++){let u=s[a];if(u.selected){let p=this._getOptionValue(u.value);r.push(p)}}}this.value=r,e(r)}}_registerOption(e){let i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){let i=_c(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=pi(n)))(r||n)}})();static \u0275dir=le({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){i&1&&A("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[mt([gc]),Ne]})}return n})(),ua=(()=>{class n{_element;_renderer;_select;id;_value;constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue(Bs(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(Bs(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(i){return new(i||n)(y(dt),y(Ht),y(da,9))};static \u0275dir=le({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();var ma=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=ze({type:n});static \u0275inj=je({})}return n})(),ur=class extends Gt{constructor(t,e,i){super(_r(e),vr(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){Array.isArray(t)?t.forEach(i=>{this.controls.push(i),this._registerControl(i)}):(this.controls.push(t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){ta(this,!1,t),t.forEach((i,r)=>{ea(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>i._syncPendingControls()?!0:e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(let t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}};function js(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var pa=(()=>{class n{useNonNullable=!1;get nonNullable(){let e=new n;return e.useNonNullable=!0,e}group(e,i=null){let r=this._reduceControls(e),o={};return js(i)?o=i:i!==null&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new Pe(r,o)}record(e,i=null){let r=this._reduceControls(e);return new cr(r,i)}control(e,i,r){let o={};return this.useNonNullable?(js(i)?o=i:(o.validators=i,o.asyncValidators=r),new J(e,ve(ee({},o),{nonNullable:!0}))):new J(e,i,r)}array(e,i,r){let o=e.map(s=>this._createControl(s));return new ur(o,i,r)}_reduceControls(e){let i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){if(e instanceof J)return e;if(e instanceof Gt)return e;if(Array.isArray(e)){let i=e[0],r=e.length>1?e[1]:null,o=e.length>2?e[2]:null;return this.control(i,r,o)}else return this.control(e)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var nn=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:en,useValue:e.callSetDisabledState??tn}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=ze({type:n});static \u0275inj=je({imports:[ma]})}return n})(),nt=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:sa,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:en,useValue:e.callSetDisabledState??tn}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=ze({type:n});static \u0275inj=je({imports:[ma]})}return n})();function vc(n,t){n&1&&h(0,"i",10)}function yc(n,t){n&1&&h(0,"i",11)}var rn=class n{_FormBuilder=w(pa);_AuthService=w(Be);_CookieService=w(Se);_Router=w(Oe);flag=!0;loginForm=this._FormBuilder.group({email:[null,[R.required,R.email]],password:[null,[R.required,R.pattern(/^\w{6,20}$/)]]});login(){this.loginForm.valid&&(console.log(this.loginForm),this._AuthService.SignIn(this.loginForm.value).subscribe({next:t=>{console.log(t),t.message==="success"&&(this._CookieService.set("token",t.token),this._CookieService.get("token")&&(this._AuthService.decodeToken(),console.log(this._AuthService.userInfo)),this._Router.navigate(["/home"]))}}))}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=D({type:n,selectors:[["app-login"]],decls:21,vars:4,consts:[[1,"main-section","flex","items-center","justify-center","bg-gray-50"],[1,"w-full","max-w-md","bg-white","shadow-lg","shadow-gray-300","p-8","rounded-xl","py-20"],[1,"text-emerald-500","text-center","font-bold","text-3xl","mb-6"],[1,"space-y-5",3,"ngSubmit","formGroup"],[1,"relative"],["formControlName","email","type","email","id","email","placeholder","Email",1,"peer","block","w-full","rounded-lg","border-2","border-gray-300","px-3","pt-5","pb-2","text-sm","text-gray-600","placeholder-transparent","focus:border-emerald-500","focus:ring-emerald-500","focus:outline-none"],["for","email",1,"absolute","start-3","top-2","text-gray-500","text-sm","transition-all","peer-placeholder-shown:top-5","peer-placeholder-shown:text-gray-400","peer-placeholder-shown:text-base","peer-focus:top-2","peer-focus:text-sm","peer-focus:text-emerald-600"],["formControlName","password","id","password","placeholder","Password",1,"peer","block","w-full","rounded-lg","border-2","border-gray-300","px-3","pt-5","pb-2","text-sm","text-gray-600","placeholder-transparent","focus:border-emerald-500","focus:ring-emerald-500","focus:outline-none",3,"type"],["for","password",1,"absolute","start-3","top-2","text-gray-500","text-sm","transition-all","peer-placeholder-shown:top-5","peer-placeholder-shown:text-gray-400","peer-placeholder-shown:text-base","peer-focus:top-2","peer-focus:text-sm","peer-focus:text-emerald-600"],[1,"absolute","inset-y-0","end-3","flex","items-center","text-gray-500","hover:text-emerald-500","cursor-pointer",3,"click"],[1,"fas","fa-eye"],[1,"fas","fa-eye-slash"],[1,"main-btn",3,"disabled"],["routerLink","/forget password",1,"cursor-pointer","text-emerald-500"]],template:function(e,i){e&1&&(l(0,"section",0)(1,"div",1)(2,"h1",2),m(3,"Login Now"),c(),l(4,"form",3),A("ngSubmit",function(){return i.login()}),l(5,"div",4),h(6,"input",5),l(7,"label",6),m(8," Email "),c()(),l(9,"div",4),h(10,"input",7),l(11,"label",8),m(12," Password "),c(),l(13,"span",9),A("click",function(){return i.flag=!i.flag}),B(14,vc,1,0,"i",10)(15,yc,1,0,"i",11),c()(),l(16,"button",12),m(17,"Login"),c(),l(18,"div")(19,"a",13),m(20,"Forget Password"),c()()()()()),e&2&&(d(4),f("formGroup",i.loginForm),d(6),f("type",i.flag?"password":"text"),d(4),j(i.flag?14:15),d(2),f("disabled",i.loginForm.invalid))},dependencies:[nt,it,ge,Ae,tt,We,$e,re],encapsulation:2})};var bc=(n,t)=>({"my-valid":n,"my-invalid":t});function Cc(n,t){n&1&&(l(0,"p",17),m(1,"Name is required"),c())}function Sc(n,t){n&1&&(l(0,"p",17),m(1,"Name is short"),c())}function wc(n,t){n&1&&(l(0,"p",17),m(1,"Name is long"),c())}function xc(n,t){if(n&1&&(l(0,"div",7),B(1,Cc,2,0,"p",17),B(2,Sc,2,0,"p",17),B(3,wc,2,0,"p",17),c()),n&2){_();let e=It(9);d(),j(e!=null&&e.getError("required")?1:-1),d(),j(e!=null&&e.getError("minlength")?2:-1),d(),j(e!=null&&e.getError("maxlength")?3:-1)}}function Ec(n,t){n&1&&(l(0,"p",17),m(1,"Email is required"),c())}function Pc(n,t){n&1&&(l(0,"p",17),m(1,"Email is not valid"),c())}function Ac(n,t){if(n&1&&(l(0,"div",7),B(1,Ec,2,0,"p",17),B(2,Pc,2,0,"p",17),c()),n&2){_();let e=It(15);d(),j(e!=null&&e.getError("required")?1:-1),d(),j(e!=null&&e.getError("email")?2:-1)}}function Dc(n,t){n&1&&h(0,"i",11)}function Ic(n,t){n&1&&h(0,"i",12)}function Tc(n,t){n&1&&(l(0,"p",17),m(1,"password is required"),c())}function Mc(n,t){n&1&&(l(0,"p",17),m(1,"password is not valid"),c())}function Fc(n,t){if(n&1&&(l(0,"div",7),B(1,Tc,2,0,"p",17),B(2,Mc,2,0,"p",17),c()),n&2){_();let e=It(24);d(),j(e!=null&&e.getError("required")?1:-1),d(),j(e!=null&&e.getError("pattern")?2:-1)}}function Nc(n,t){n&1&&h(0,"i",11)}function kc(n,t){n&1&&h(0,"i",12)}function Vc(n,t){n&1&&(l(0,"p",17),m(1,"repassword is required"),c())}function Oc(n,t){n&1&&(l(0,"p",17),m(1,"repassword is not valid"),c())}function Rc(n,t){n&1&&(l(0,"p",17),m(1,"repassword not the same"),c())}function Lc(n,t){if(n&1&&(l(0,"div",7),B(1,Vc,2,0,"p",17),B(2,Oc,2,0,"p",17),B(3,Rc,2,0,"p",17),c()),n&2){let e=_(),i=It(33);d(),j(i!=null&&i.getError("required")?1:-1),d(),j(i!=null&&i.getError("pattern")?2:-1),d(),j(e.registerForm!=null&&e.registerForm.getError("missMatch")?3:-1)}}function Bc(n,t){n&1&&(l(0,"p",17),m(1,"phone is required"),c())}function jc(n,t){n&1&&(l(0,"p",17),m(1,"phone is not valid"),c())}function Gc(n,t){if(n&1&&(l(0,"div",7),B(1,Bc,2,0,"p",17),B(2,jc,2,0,"p",17),c()),n&2){_();let e=It(39);d(),j(e!=null&&e.getError("required")?1:-1),d(),j(e!=null&&e.getError("pattern")?2:-1)}}var on=class n{_AuthService=w(Be);_Router=w(Oe);flag=!0;registerForm=new Pe({name:new J(null,[R.required,R.minLength(3),R.maxLength(10)]),email:new J(null,[R.required,R.email]),password:new J(null,[R.required,R.pattern(/^\w{6,20}$/)]),rePassword:new J(null,[R.required,R.pattern(/^\w{6,20}$/)]),phone:new J(null,[R.required,R.pattern(/^01[0125][0-9]{8}$/)])},{validators:this.confirm});confirm(t){return t.get("password")?.value==t.get("rePassword")?.value?null:{missMatch:!0}}register(){this.registerForm.valid&&(console.log(this.registerForm.value),this._AuthService.SignUp(this.registerForm.value).subscribe({next:t=>{console.log(t),t.message==="success"&&this._Router.navigate(["/login"])},error:t=>{console.log(t)}}))}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=D({type:n,selectors:[["app-register"]],decls:45,vars:20,consts:[[1,"main-section","flex","items-center","justify-center","bg-gray-50"],[1,"w-full","max-w-md","bg-white","shadow-lg","shadow-gray-300","p-8","rounded-xl","py-20"],[1,"text-emerald-500","text-center","font-bold","text-3xl","mb-6"],[3,"ngSubmit","formGroup"],[1,"relative","mb-1"],["formControlName","name","type","text","id","","placeholder"," ",1,"block","rounded-lg","px-2.5","pb-2.5","pt-5","w-full","text-sm","text-gray-500","bg-gray-50","border-0","border-b-2","border-gray-300","appearance-none","focus:outline-none","focus:ring-0","focus:border-emerald-500","peer"],["for","floating_filled",1,"absolute","text-sm","text-gray-500","duration-300","transform","-translate-y-4","scale-75","top-4","z-10","origin-[0]","start-2.5","peer-focus:text-emerald-600","peer-placeholder-shown:scale-100","peer-placeholder-shown:translate-y-0","peer-focus:scale-75","peer-focus:-translate-y-4","rtl:peer-focus:translate-x-1/4","rtl:peer-focus:left-auto"],[1,"bg-red-400","p-5","my-4","rounded-3xl","font-bold"],["formControlName","email","type","email","id","","placeholder"," ",1,"block","rounded-lg","px-2.5","pb-2.5","pt-5","w-full","text-sm","text-gray-500","bg-gray-50","border-0","border-b-2","border-gray-300","appearance-none","focus:outline-none","focus:ring-0","focus:border-emerald-500","peer"],["formControlName","password","id","floating_filled","placeholder"," ",1,"block","rounded-lg","px-2.5","pb-2.5","pt-5","w-full","text-sm","text-gray-500","bg-gray-50","border-0","border-b-2","border-gray-300","appearance-none","focus:outline-none","focus:ring-0","focus:border-emerald-500","peer",3,"type"],[1,"absolute","inset-y-0","end-3","items-center","flex","cursor-pointer",3,"click"],[1,"fas","fa-eye"],[1,"fas","fa-eye-slash"],["formControlName","rePassword","type","password","id","","placeholder"," ",1,"block","rounded-lg","px-2.5","pb-2.5","pt-5","w-full","text-sm","text-gray-500","bg-gray-50","border-0","border-b-2","border-gray-300","appearance-none","focus:outline-none","focus:ring-0","focus:border-emerald-500","peer"],["formControlName","phone","type","tel","id","","placeholder"," ",1,"block","rounded-lg","px-2.5","pb-2.5","pt-5","w-full","text-sm","text-gray-500","bg-gray-50","border-0","border-b-2","border-gray-300","appearance-none","focus:outline-none","focus:ring-0","focus:border-emerald-500","peer"],[1,"main-btn",3,"disabled"],[1,"fa","fa-user-plus"],[1,"text-2xl"]],template:function(e,i){if(e&1){let r=G();l(0,"section",0)(1,"div",1)(2,"h1",2),m(3,"Register Now"),c(),l(4,"form",3),A("ngSubmit",function(){return T(r),M(i.register())}),l(5,"div",4),h(6,"input",5),l(7,"label",6),m(8,"Name"),c(),At(9),B(10,xc,4,3,"div",7),c(),l(11,"div",4),h(12,"input",8),l(13,"label",6),m(14,"Email"),c(),At(15),B(16,Ac,3,2,"div",7),c(),l(17,"div",4),h(18,"input",9),l(19,"label",6),m(20,"Password"),c(),l(21,"span",10),A("click",function(){return T(r),M(i.flag=!i.flag)}),B(22,Dc,1,0,"i",11)(23,Ic,1,0,"i",12),c(),At(24),B(25,Fc,3,2,"div",7),c(),l(26,"div",4),h(27,"input",13),l(28,"label",6),m(29,"Confirm Password"),c(),l(30,"span",10),A("click",function(){return T(r),M(i.flag=!i.flag)}),B(31,Nc,1,0,"i",11)(32,kc,1,0,"i",12),c(),At(33),B(34,Lc,4,3,"div",7),c(),l(35,"div",4),h(36,"input",14),l(37,"label",6),m(38,"Phone"),c(),At(39),B(40,Gc,3,2,"div",7),c(),l(41,"button",15),m(42,"Sign UP "),l(43,"span"),h(44,"i",16),c()()()()()}if(e&2){let r;d(4),f("formGroup",i.registerForm),d(2),hi(so(17,bc,!((r=i.registerForm.get("name"))!=null&&r.errors)&&(((r=i.registerForm.get("name"))==null?null:r.touched)||((r=i.registerForm.get("name"))==null?null:r.dirty)),((r=i.registerForm.get("name"))==null?null:r.errors)&&(((r=i.registerForm.get("name"))==null?null:r.touched)||((r=i.registerForm.get("name"))==null?null:r.dirty)))),d(3);let o=Dt(i.registerForm.get("name"));d(),j(o!=null&&o.errors&&(o!=null&&o.touched)?10:-1),d(5);let s=Dt(i.registerForm.get("email"));d(),j(s!=null&&s.errors&&(s!=null&&s.touched)?16:-1),d(2),f("type",i.flag?"password":"text"),d(4),j(i.flag?22:23),d(2);let a=Dt(i.registerForm.get("password"));d(),j(a!=null&&a.errors&&(a!=null&&a.touched)?25:-1),d(6),j(i.flag?31:32),d(2);let u=Dt(i.registerForm.get("rePassword"));d(),j(i.registerForm!=null&&i.registerForm.errors&&(u!=null&&u.touched)?34:-1),d(5);let p=Dt(i.registerForm.get("phone"));d(),j(p!=null&&p.errors&&(p!=null&&p.touched)?40:-1),d(),f("disabled",i.registerForm.invalid)}},dependencies:[nt,it,ge,Ae,tt,We,$e],encapsulation:2})};var sn=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=D({type:n,selectors:[["app-main-layout"]],decls:3,vars:1,consts:[[1,"sticky","top-0","end-0","start-0","z-[100000]"],[3,"check"]],template:function(e,i){e&1&&(l(0,"div",0),h(1,"app-navbar",1),c(),h(2,"router-outlet")),e&2&&(d(),f("check",!0))},dependencies:[Nt,Lt],encapsulation:2})};var rt=class n{_HttpClient=w(Ve);baseURL="https://ecommerce.routemisr.com/api/v1/products";getAllCategories(){return this._HttpClient.get(`${oe.baseURL}/api/v1/categories`)}getSubCategories(t){return this._HttpClient.get(`${oe.baseURL}/api/v1/categories/${t}/subcategories`)}getAllProducts(t){return this._HttpClient.get(`${oe.baseURL}/api/v1/products?subcategory=${t}`)}static \u0275fac=function(e){return new(e||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})};var Uc=(n,t)=>t._id;function Wc(n,t){if(n&1&&(l(0,"div",5),h(1,"img",6),l(2,"h2",7),m(3),c()()),n&2){let e=_().$implicit;d(),f("src",e.image,K)("alt",e.name),d(2),N(" ",e.name," ")}}function $c(n,t){if(n&1&&F(0,Wc,4,3,"ng-template",4),n&2){let e=t.$implicit;f("id",e._id)}}var an=class n{constructor(t){this._CatagoriesService=t}allCategories;customOptions={loop:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,navSpeed:700,autoplay:!0,autoplaySpeed:500,autoplayTimeout:500,autoplayHoverPause:!0,navText:["\u2039","\u203A"],responsive:{0:{items:1},400:{items:2},740:{items:3},940:{items:6}},nav:!0};ngOnInit(){this._CatagoriesService.getAllCategories().subscribe({next:t=>{this.allCategories=t.data,console.log(t.data)},error:t=>{console.log(t)}})}static \u0275fac=function(e){return new(e||n)(y(rt))};static \u0275cmp=D({type:n,selectors:[["app-categories-slider"]],decls:7,vars:1,consts:[[1,"main-section","py-10"],[1,"container-auto"],[1,"text-3xl","font-bold","mb-6","text-emerald-800"],[3,"options"],["carouselSlide","",3,"id"],[1,"border","border-emerald-200","rounded","shadow-md","hover:shadow-xl","transition-transform","duration-300","hover:scale-105","bg-white","p-4"],[1,"w-full","h-48","object-cover","rounded-md",3,"src","alt"],[1,"mt-3","font-semibold","text-emerald-600","text-lg","text-center"]],template:function(e,i){e&1&&(l(0,"section",0)(1,"div",1)(2,"h2",2),m(3," Shop Popular Categories"),c(),l(4,"owl-carousel-o",3),Q(5,$c,1,1,null,4,Uc),c()()()),e&2&&(d(4),f("options",i.customOptions),d(),Y(i.allCategories))},dependencies:[wi,Si,Ci],encapsulation:2})};function Hc(n,t){n&1&&h(0,"img",9)}function qc(n,t){n&1&&h(0,"img",10)}function Kc(n,t){n&1&&h(0,"img",11)}function Qc(n,t){n&1&&h(0,"img",12)}function Yc(n,t){n&1&&h(0,"img",13)}var ln=class n{myOptions={loop:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!0,autoplay:!0,autoplaySpeed:200,navSpeed:700,navText:["",""],responsive:{0:{items:1}},nav:!1};static \u0275fac=function(e){return new(e||n)};static \u0275cmp=D({type:n,selectors:[["app-main-slider"]],decls:13,vars:1,consts:[[1,"main-slider"],[1,"container-auto"],[1,"flex","flex-wrap"],[1,"w-full","sm:w-full","md:w-1/2","lg:w-3/4"],[3,"options"],["carouselSlide",""],[1,"w-full","sm:w-full","md:w-1/2","lg:w-1/4"],["src","./images/banner-4.jpeg","alt","",1,"w-full","block","h-40"],["src","./images/grocery-banner-2.jpeg","alt","",1,"w-full","block","h-40"],["src","./images/img1.avif","alt","",1,"w-full","h-80","object-cover","rounded"],["src","./images/img2.avif","alt","",1,"w-full","h-80","object-cover","rounded"],["src","./images/img3.avif","alt","",1,"w-full","h-80","object-cover","rounded"],["src","./images/img5.avif","alt","",1,"w-full","h-80","object-cover","rounded"],["src","./images/img4.avif","alt","",1,"w-full","h-80","object-cover","rounded"]],template:function(e,i){e&1&&(l(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"owl-carousel-o",4),F(5,Hc,1,0,"ng-template",5)(6,qc,1,0,"ng-template",5)(7,Kc,1,0,"ng-template",5)(8,Qc,1,0,"ng-template",5)(9,Yc,1,0,"ng-template",5),c()(),l(10,"div",6),h(11,"img",7)(12,"img",8),c()()()()),e&2&&(d(4),f("options",i.myOptions))},dependencies:[wi,Si,Ci],encapsulation:2})};var Ut=class n{transform(t,e){return t.filter(i=>i.title.toLowerCase().includes(e.toLowerCase()))}static \u0275fac=function(e){return new(e||n)};static \u0275pipe=Pt({name:"search",type:n,pure:!0})};var Xc=["overlay"],Zc=["*"];function Jc(n,t){n&1&&h(0,"div")}function ed(n,t){if(n&1&&(l(0,"div"),F(1,Jc,1,0,"div",6),c()),n&2){let e=_(2);hi(e.spinner.class),fi("color",e.spinner.color),d(),f("ngForOf",e.spinner.divArray)}}function td(n,t){if(n&1&&(h(0,"div",7),Ce(1,"safeHtml")),n&2){let e=_(2);f("innerHTML",lo(1,1,e.template),Wr)}}function id(n,t){if(n&1&&(l(0,"div",2,0),F(2,ed,2,5,"div",3)(3,td,2,3,"div",4),l(4,"div",5),to(5),c()()),n&2){let e=_();fi("background-color",e.spinner.bdColor)("z-index",e.spinner.zIndex)("position",e.spinner.fullScreen?"fixed":"absolute"),f("@.disabled",e.disableAnimation)("@fadeIn","in"),d(2),f("ngIf",!e.template),d(),f("ngIf",e.template),d(),fi("z-index",e.spinner.zIndex)}}var nd={"ball-8bits":16,"ball-atom":4,"ball-beat":3,"ball-circus":5,"ball-climbing-dot":4,"ball-clip-rotate":1,"ball-clip-rotate-multiple":2,"ball-clip-rotate-pulse":2,"ball-elastic-dots":5,"ball-fall":3,"ball-fussion":4,"ball-grid-beat":9,"ball-grid-pulse":9,"ball-newton-cradle":4,"ball-pulse":3,"ball-pulse-rise":5,"ball-pulse-sync":3,"ball-rotate":1,"ball-running-dots":5,"ball-scale":1,"ball-scale-multiple":3,"ball-scale-pulse":2,"ball-scale-ripple":1,"ball-scale-ripple-multiple":3,"ball-spin":8,"ball-spin-clockwise":8,"ball-spin-clockwise-fade":8,"ball-spin-clockwise-fade-rotating":8,"ball-spin-fade":8,"ball-spin-fade-rotating":8,"ball-spin-rotate":2,"ball-square-clockwise-spin":8,"ball-square-spin":8,"ball-triangle-path":3,"ball-zig-zag":2,"ball-zig-zag-deflect":2,cog:1,"cube-transition":2,fire:3,"line-scale":5,"line-scale-party":5,"line-scale-pulse-out":5,"line-scale-pulse-out-rapid":5,"line-spin-clockwise-fade":8,"line-spin-clockwise-fade-rotating":8,"line-spin-fade":8,"line-spin-fade-rotating":8,pacman:6,"square-jelly-box":2,"square-loader":1,"square-spin":1,timer:1,"triangle-skew-spin":1},br={BD_COLOR:"rgba(51,51,51,0.8)",SPINNER_COLOR:"#fff",Z_INDEX:99999},Cr="primary",wt=class n{constructor(t){Object.assign(this,t)}static create(t){return!t?.template&&!t?.type&&console.warn(`[ngx-spinner]: Property "type" is missed. Please, provide animation type to <ngx-spinner> component
        and ensure css is added to angular.json file`),new n(t)}},li=(()=>{let t=class t{constructor(){this.spinnerObservable=new Dr(null)}getSpinner(i){return this.spinnerObservable.asObservable().pipe(Nr(r=>r&&r.name===i))}show(i=Cr,r){return new Promise((o,s)=>{setTimeout(()=>{r&&Object.keys(r).length?(r.name=i,this.spinnerObservable.next(new wt(ve(ee({},r),{show:!0}))),o(!0)):(this.spinnerObservable.next(new wt({name:i,show:!0})),o(!0))},10)})}hide(i=Cr,r=10){return new Promise((o,s)=>{setTimeout(()=>{this.spinnerObservable.next(new wt({name:i,show:!1})),o(!0)},r)})}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})(),ha=new Ge("NGX_SPINNER_CONFIG"),rd=(()=>{let t=class t{constructor(i){this.sanitizer=i}transform(i){return i?this.sanitizer.bypassSecurityTrustHtml(i):""}};t.\u0275fac=function(r){return new(r||t)(y(Co,16))},t.\u0275pipe=Pt({name:"safeHtml",type:t,pure:!0});let n=t;return n})(),ga=(()=>{let t=class t{constructor(i,r,o,s){this.spinnerService=i,this.changeDetector=r,this.elementRef=o,this.globalConfig=s,this.disableAnimation=!1,this.spinner=new wt,this.ngUnsubscribe=new mi,this.setDefaultOptions=()=>{let{type:a}=this.globalConfig??{};this.spinner=wt.create({name:this.name,bdColor:this.bdColor,size:this.size,color:this.color,type:this.type??a,fullScreen:this.fullScreen,divArray:this.divArray,divCount:this.divCount,show:this.show,zIndex:this.zIndex,template:this.template,showSpinner:this.showSpinner})},this.bdColor=br.BD_COLOR,this.zIndex=br.Z_INDEX,this.color=br.SPINNER_COLOR,this.size="large",this.fullScreen=!0,this.name=Cr,this.template=null,this.showSpinner=!1,this.divArray=[],this.divCount=0,this.show=!1}initObservable(){this.spinnerService.getSpinner(this.name).pipe(Or(this.ngUnsubscribe)).subscribe(i=>{this.setDefaultOptions(),Object.assign(this.spinner,i),i.show&&this.onInputChange(),this.changeDetector.detectChanges()})}ngOnInit(){this.setDefaultOptions(),this.initObservable()}isSpinnerZone(i){return i===this.elementRef.nativeElement.parentElement?!0:i.parentNode&&this.isSpinnerZone(i.parentNode)}ngOnChanges(i){for(let r in i)if(r){let o=i[r];if(o.isFirstChange())return;typeof o.currentValue<"u"&&o.currentValue!==o.previousValue&&o.currentValue!==""&&(this.spinner[r]=o.currentValue,r==="showSpinner"&&(o.currentValue?this.spinnerService.show(this.spinner.name,this.spinner):this.spinnerService.hide(this.spinner.name)),r==="name"&&this.initObservable())}}getClass(i,r){this.spinner.divCount=nd[i],this.spinner.divArray=Array(this.spinner.divCount).fill(0).map((s,a)=>a);let o="";switch(r.toLowerCase()){case"small":o="la-sm";break;case"medium":o="la-2x";break;case"large":o="la-3x";break;default:break}return"la-"+i+" "+o}onInputChange(){this.spinner.class=this.getClass(this.spinner.type,this.spinner.size)}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}};t.\u0275fac=function(r){return new(r||t)(y(li),y(pt),y(dt),y(ha,8))},t.\u0275cmp=D({type:t,selectors:[["ngx-spinner"]],viewQuery:function(r,o){if(r&1&&io(Xc,5),r&2){let s;no(s=ro())&&(o.spinnerDOM=s.first)}},inputs:{bdColor:"bdColor",size:"size",color:"color",type:"type",fullScreen:"fullScreen",name:"name",zIndex:"zIndex",template:"template",showSpinner:"showSpinner",disableAnimation:"disableAnimation"},features:[Ke],ngContentSelectors:Zc,decls:1,vars:1,consts:[["overlay",""],["class","ngx-spinner-overlay",3,"background-color","z-index","position",4,"ngIf"],[1,"ngx-spinner-overlay"],[3,"class","color",4,"ngIf"],[3,"innerHTML",4,"ngIf"],[1,"loading-text"],[4,"ngFor","ngForOf"],[3,"innerHTML"]],template:function(r,o){r&1&&(eo(),F(0,id,6,12,"div",1)),r&2&&f("ngIf",o.spinner.show)},dependencies:[rd,pe,Mt],styles:[".ngx-spinner-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%}.ngx-spinner-overlay[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(.loading-text){top:50%;left:50%;margin:0;position:absolute;transform:translate(-50%,-50%)}.loading-text[_ngcontent-%COMP%]{position:absolute;top:60%;left:50%;transform:translate(-50%,-60%)}"],data:{animation:[Ao("fadeIn",[Io("in",ft({opacity:1})),Tn(":enter",[ft({opacity:0}),In(300)]),Tn(":leave",In(200,ft({opacity:0})))])]},changeDetection:0});let n=t;return n})(),_a=(()=>{let t=class t{static forRoot(i){return{ngModule:t,providers:[{provide:ha,useValue:i}]}}};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=ze({type:t}),t.\u0275inj=je({});let n=t;return n})();var ad=n=>["/p_details",n],ld=(n,t)=>t._id;function cd(n,t){if(n&1){let e=G();l(0,"div",5)(1,"div",6),h(2,"img",7),l(3,"h2",8),m(4),c(),l(5,"h3",9),m(6),c(),l(7,"div",10)(8,"span",11),m(9),c(),l(10,"span",12),h(11,"i",13),m(12),c()(),l(13,"i",14),A("click",function(r){let o=T(e).$implicit;return _().toggleWishlist(o),M(r.stopPropagation())}),c()(),l(14,"button",15),A("click",function(){let r=T(e).$implicit,o=_();return M(o.addToCart(r._id))}),m(15,"Add to Cart"),c()()}if(n&2){let e=t.$implicit;d(),f("routerLink",me(8,ad,e._id)),d(),f("src",e.imageCover,K)("alt",e.title),d(2),U(e.category.name),d(2),U(e.title.split(" ",3).join(" ")),d(3),N("",e.price,"EGP"),d(3),N("",e.ratingsAverage," "),d(),f("ngClass",e.inWishlist?"text-red-600":"text-black")}}var cn=class n{constructor(t,e,i,r,o){this._ProductsService=t;this._CartService=e;this.toastr=i;this.spinner=r;this._WishlistService=o}products;fromInput="";ngOnInit(){this._ProductsService.getAllProducts().subscribe({next:t=>{this.products=t.data,this._WishlistService.GetLoggedUserWishlist().subscribe({next:e=>{let i=e.data.map(r=>r._id);this.products.forEach(r=>{r.inWishlist=i.includes(r._id)})},error:e=>console.log(e)}),console.log(this.products)}})}addToCart(t){this._CartService.AddProductToCart(t).subscribe({next:e=>{this.spinner.hide(),console.log(e),this._CartService.cartCount.next(e.numOfCartItems),console.log("cart count in service",this._CartService.cartCount),this.toastr.success(e.message,e.status,{timeOut:3e3,closeButton:!0,progressBar:!0})}})}toggleWishlist(t){t.inWishlist?(t.inWishlist=!1,this._WishlistService.RemoveProductFromWishlist(t._id).subscribe({next:e=>{this.toastr.info(e.message,e.status,{timeOut:2e3,closeButton:!0,progressBar:!0})},error:e=>{console.log(e)}})):(t.inWishlist=!0,this._WishlistService.AddProductToWishlist(t._id).subscribe({next:e=>{this.toastr.success(e.message,e.status,{timeOut:2e3,closeButton:!0,progressBar:!0})},error:e=>{console.log(e),t.inWishlist=!1}}))}static \u0275fac=function(e){return new(e||n)(y(Ze),y(xe),y(we),y(li),y(Re))};static \u0275cmp=D({type:n,selectors:[["app-home"]],decls:13,vars:4,consts:[[1,"main-section"],[1,"container-auto"],[1,"text-emerald-500","text-center","font-bold","text-4xl","mb-6"],["type","text","placeholder","Search by name...","name","","id","",1,"w-1/2","block","mx-auto","rounded-md","p-1","focus:transition-all","focus:duration-500","focus:border-2","focus:border-emerald-500","my-3",3,"ngModelChange","ngModel"],[1,"grid","gap-6","sm:grid-cols-1","md:grid-cols-2","lg:grid-cols-4","xl:grid-cols-5","justify-items-center"],[1,"group","relative","rounded-xl","overflow-hidden","hover:shadow-xl","transition-shadow","duration-300","p-4"],[1,"cursor-pointer",3,"routerLink"],[1,"w-full","max-w-[240px]","h-auto","object-cover","mb-3","rounded-lg","transform","transition-transform","duration-300","group-hover:scale-105",3,"src","alt"],[1,"text-emerald-500","font-semibold","mb-1"],[1,"text-gray-800","font-medium","mb-2"],[1,"flex","justify-between","items-center","text-gray-700","mb-2"],[1,"font-bold"],[1,"flex","items-center","gap-1"],[1,"fas","fa-star","text-yellow-400"],[1,"fa","fa-heart","absolute","top-3","right-3","text-xl","cursor-pointer",3,"click","ngClass"],[1,"main-btn","translate-y-[210%]","group-hover:translate-y-0","duration-500",3,"click"]],template:function(e,i){e&1&&(l(0,"section",0),h(1,"app-main-slider"),c(),l(2,"section",0),h(3,"app-categories-slider"),c(),l(4,"section",0)(5,"div",1)(6,"h1",2),m(7,"Shop the Best"),c(),l(8,"input",3),vi("ngModelChange",function(o){return _i(i.fromInput,o)||(i.fromInput=o),o}),c(),l(9,"div",4),Q(10,cd,16,10,"div",5,ld),Ce(12,"search"),c()()()),e&2&&(d(8),gi("ngModel",i.fromInput),d(2),Y(ke(12,1,i.products,i.fromInput)))},dependencies:[an,ln,re,nn,ge,Ae,ai,Xe,Ut],encapsulation:2})};var ci=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=D({type:n,selectors:[["app-notfound"]],decls:2,vars:0,template:function(e,i){e&1&&(X(0,"p"),m(1,"notfound works!"),H())},encapsulation:2})};function ud(n,t){if(n&1){let e=G();l(0,"a",12),A("keyup.enter",function(){T(e),_(3);let r=ne(1);return M(r.previous())})("click",function(){T(e),_(3);let r=ne(1);return M(r.previous())}),m(1),l(2,"span",13),m(3),c()()}if(n&2){let e=_(3);d(),N(" ",e.previousLabel," "),d(2),U(e.screenReaderPageLabel)}}function md(n,t){if(n&1&&(l(0,"span",14),m(1),l(2,"span",13),m(3),c()()),n&2){let e=_(3);d(),N(" ",e.previousLabel," "),d(2),U(e.screenReaderPageLabel)}}function pd(n,t){if(n&1&&(l(0,"li",9),F(1,ud,4,2,"a",10)(2,md,4,2,"span",11),c()),n&2){_(2);let e=ne(1);Qe("disabled",e.isFirstPage()),d(),f("ngIf",1<e.getCurrent()),d(),f("ngIf",e.isFirstPage())}}function fd(n,t){if(n&1){let e=G();l(0,"a",12),A("keyup.enter",function(){T(e);let r=_().$implicit;_(2);let o=ne(1);return M(o.setCurrent(r.value))})("click",function(){T(e);let r=_().$implicit;_(2);let o=ne(1);return M(o.setCurrent(r.value))}),l(1,"span",13),m(2),c(),l(3,"span"),m(4),Ce(5,"number"),c()()}if(n&2){let e=_().$implicit,i=_(2);d(2),N("",i.screenReaderPageLabel," "),d(2),U(e.label==="..."?e.label:ke(5,2,e.label,""))}}function hd(n,t){if(n&1&&(Xr(0),l(1,"span",16)(2,"span",13),m(3),c(),l(4,"span"),m(5),Ce(6,"number"),c()(),Zr()),n&2){let e=_().$implicit,i=_(2);d(3),N("",i.screenReaderCurrentLabel," "),d(2),U(e.label==="..."?e.label:ke(6,2,e.label,""))}}function gd(n,t){if(n&1&&(l(0,"li"),F(1,fd,6,5,"a",10)(2,hd,7,5,"ng-container",15),c()),n&2){let e=t.$implicit;_(2);let i=ne(1);Qe("current",i.getCurrent()===e.value)("ellipsis",e.label==="..."),d(),f("ngIf",i.getCurrent()!==e.value),d(),f("ngIf",i.getCurrent()===e.value)}}function _d(n,t){if(n&1){let e=G();l(0,"a",12),A("keyup.enter",function(){T(e),_(3);let r=ne(1);return M(r.next())})("click",function(){T(e),_(3);let r=ne(1);return M(r.next())}),m(1),l(2,"span",13),m(3),c()()}if(n&2){let e=_(3);d(),N(" ",e.nextLabel," "),d(2),U(e.screenReaderPageLabel)}}function vd(n,t){if(n&1&&(l(0,"span",14),m(1),l(2,"span",13),m(3),c()()),n&2){let e=_(3);d(),N(" ",e.nextLabel," "),d(2),U(e.screenReaderPageLabel)}}function yd(n,t){if(n&1&&(l(0,"li",17),F(1,_d,4,2,"a",10)(2,vd,4,2,"span",11),c()),n&2){_(2);let e=ne(1);Qe("disabled",e.isLastPage()),d(),f("ngIf",!e.isLastPage()),d(),f("ngIf",e.isLastPage())}}function bd(n,t){if(n&1&&(l(0,"ul",4),F(1,pd,3,4,"li",5),l(2,"li",6),m(3),c(),F(4,gd,3,6,"li",7)(5,yd,3,4,"li",8),c()),n&2){let e=_(),i=ne(1);Qe("responsive",e.responsive),d(),f("ngIf",e.directionLinks),d(2),oo(" ",i.getCurrent()," / ",i.getLastPage()," "),d(),f("ngForOf",i.pages)("ngForTrackBy",e.trackByIndex),d(),f("ngIf",e.directionLinks)}}var di=class{constructor(){this.change=new be,this.instances={},this.DEFAULT_ID="DEFAULT_PAGINATION_ID"}defaultId(){return this.DEFAULT_ID}register(t){return t.id==null&&(t.id=this.DEFAULT_ID),this.instances[t.id]?this.updateInstance(t):(this.instances[t.id]=t,!0)}updateInstance(t){let e=!1;for(let i in this.instances[t.id])t[i]!==this.instances[t.id][i]&&(this.instances[t.id][i]=t[i],e=!0);return e}getCurrentPage(t){return this.instances[t]?this.instances[t].currentPage:1}setCurrentPage(t,e){if(this.instances[t]){let i=this.instances[t],r=Math.ceil(i.totalItems/i.itemsPerPage);e<=r&&1<=e&&(this.instances[t].currentPage=e,this.change.emit(t))}}setTotalItems(t,e){this.instances[t]&&0<=e&&(this.instances[t].totalItems=e,this.change.emit(t))}setItemsPerPage(t,e){this.instances[t]&&(this.instances[t].itemsPerPage=e,this.change.emit(t))}getInstance(t=this.DEFAULT_ID){return this.instances[t]?this.clone(this.instances[t]):{}}clone(t){var e={};for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}},Cd=Number.MAX_SAFE_INTEGER,ba=(()=>{class n{constructor(e){this.service=e,this.state={}}transform(e,i){if(!(e instanceof Array)){let g=i.id||this.service.defaultId();return this.state[g]?this.state[g].slice:e}let r=i.totalItems&&i.totalItems!==e.length,o=this.createInstance(e,i),s=o.id,a,u,p=o.itemsPerPage,v=this.service.register(o);if(!r&&e instanceof Array){if(p=+p||Cd,a=(o.currentPage-1)*p,u=a+p,this.stateIsIdentical(s,e,a,u))return this.state[s].slice;{let I=e.slice(a,u);return this.saveState(s,e,I,a,u),this.service.change.emit(s),I}}else return v&&this.service.change.emit(s),this.saveState(s,e,e,a,u),e}createInstance(e,i){return this.checkConfig(i),{id:i.id!=null?i.id:this.service.defaultId(),itemsPerPage:+i.itemsPerPage||0,currentPage:+i.currentPage||1,totalItems:+i.totalItems||e.length}}checkConfig(e){let r=["itemsPerPage","currentPage"].filter(o=>!(o in e));if(0<r.length)throw new Error(`PaginatePipe: Argument is missing the following required properties: ${r.join(", ")}`)}saveState(e,i,r,o,s){this.state[e]={collection:i,size:i.length,slice:r,start:o,end:s}}stateIsIdentical(e,i,r,o){let s=this.state[e];return!s||!(s.size===i.length&&s.start===r&&s.end===o)?!1:s.slice.every((u,p)=>u===i[r+p])}}return n.\u0275fac=function(e){return new(e||n)(y(di,16))},n.\u0275pipe=Pt({name:"paginate",type:n,pure:!1,standalone:!1}),n})();var Sd=(()=>{class n{constructor(e,i){this.service=e,this.changeDetectorRef=i,this.maxSize=7,this.pageChange=new be,this.pageBoundsCorrection=new be,this.pages=[],this.changeSub=this.service.change.subscribe(r=>{this.id===r&&(this.updatePageLinks(),this.changeDetectorRef.markForCheck(),this.changeDetectorRef.detectChanges())})}ngOnInit(){this.id===void 0&&(this.id=this.service.defaultId()),this.updatePageLinks()}ngOnChanges(e){this.updatePageLinks()}ngOnDestroy(){this.changeSub.unsubscribe()}previous(){this.checkValidId(),this.setCurrent(this.getCurrent()-1)}next(){this.checkValidId(),this.setCurrent(this.getCurrent()+1)}isFirstPage(){return this.getCurrent()===1}isLastPage(){return this.getLastPage()===this.getCurrent()}setCurrent(e){this.pageChange.emit(e)}getCurrent(){return this.service.getCurrentPage(this.id)}getLastPage(){let e=this.service.getInstance(this.id);return e.totalItems<1?1:Math.ceil(e.totalItems/e.itemsPerPage)}getTotalItems(){return this.service.getInstance(this.id).totalItems}checkValidId(){this.service.getInstance(this.id).id==null&&console.warn(`PaginationControlsDirective: the specified id "${this.id}" does not match any registered PaginationInstance`)}updatePageLinks(){let e=this.service.getInstance(this.id),i=this.outOfBoundCorrection(e);i!==e.currentPage?setTimeout(()=>{this.pageBoundsCorrection.emit(i),this.pages=this.createPageArray(e.currentPage,e.itemsPerPage,e.totalItems,this.maxSize)}):this.pages=this.createPageArray(e.currentPage,e.itemsPerPage,e.totalItems,this.maxSize)}outOfBoundCorrection(e){let i=Math.ceil(e.totalItems/e.itemsPerPage);return i<e.currentPage&&0<i?i:e.currentPage<1?1:e.currentPage}createPageArray(e,i,r,o){o=+o;let s=[],a=Math.max(Math.ceil(r/i),1),u=Math.ceil(o/2),p=e<=u,v=a-u<e,g=!p&&!v,I=o<a,x=1;for(;x<=a&&x<=o;){let C,P=this.calculatePageNumber(x,e,o,a),z=x===2&&(g||v),$=x===o-1&&(g||p);I&&(z||$)?C="...":C=P,s.push({label:C,value:P}),x++}return s}calculatePageNumber(e,i,r,o){let s=Math.ceil(r/2);return e===r?o:e===1?e:r<o?o-s<i?o-r+e:s<i?i-s+e:e:e}}return n.\u0275fac=function(e){return new(e||n)(y(di),y(pt))},n.\u0275dir=le({type:n,selectors:[["pagination-template"],["","pagination-template",""]],inputs:{id:"id",maxSize:"maxSize"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},exportAs:["paginationApi"],standalone:!1,features:[Ke]}),n})();function Sr(n){return!!n&&n!=="false"}var Ca=(()=>{class n{constructor(){this.maxSize=7,this.previousLabel="Previous",this.nextLabel="Next",this.screenReaderPaginationLabel="Pagination",this.screenReaderPageLabel="page",this.screenReaderCurrentLabel="You're on page",this.pageChange=new be,this.pageBoundsCorrection=new be,this._directionLinks=!0,this._autoHide=!1,this._responsive=!1}get directionLinks(){return this._directionLinks}set directionLinks(e){this._directionLinks=Sr(e)}get autoHide(){return this._autoHide}set autoHide(e){this._autoHide=Sr(e)}get responsive(){return this._responsive}set responsive(e){this._responsive=Sr(e)}trackByIndex(e){return e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=D({type:n,selectors:[["pagination-controls"]],inputs:{id:"id",maxSize:"maxSize",directionLinks:"directionLinks",autoHide:"autoHide",responsive:"responsive",previousLabel:"previousLabel",nextLabel:"nextLabel",screenReaderPaginationLabel:"screenReaderPaginationLabel",screenReaderPageLabel:"screenReaderPageLabel",screenReaderCurrentLabel:"screenReaderCurrentLabel"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},standalone:!1,decls:4,vars:4,consts:[["p","paginationApi"],[3,"pageChange","pageBoundsCorrection","id","maxSize"],["role","navigation"],["class","ngx-pagination",3,"responsive",4,"ngIf"],[1,"ngx-pagination"],["class","pagination-previous",3,"disabled",4,"ngIf"],[1,"small-screen"],[3,"current","ellipsis",4,"ngFor","ngForOf","ngForTrackBy"],["class","pagination-next",3,"disabled",4,"ngIf"],[1,"pagination-previous"],["tabindex","0",3,"keyup.enter","click",4,"ngIf"],["aria-disabled","true",4,"ngIf"],["tabindex","0",3,"keyup.enter","click"],[1,"show-for-sr"],["aria-disabled","true"],[4,"ngIf"],["aria-live","polite"],[1,"pagination-next"]],template:function(e,i){if(e&1){let r=G();l(0,"pagination-template",1,0),A("pageChange",function(s){return T(r),M(i.pageChange.emit(s))})("pageBoundsCorrection",function(s){return T(r),M(i.pageBoundsCorrection.emit(s))}),l(2,"nav",2),F(3,bd,6,8,"ul",3),c()()}if(e&2){let r=ne(1);f("id",i.id)("maxSize",i.maxSize),d(2),An("aria-label",i.screenReaderPaginationLabel),d(),f("ngIf",!(i.autoHide&&r.pages.length<=1))}},dependencies:[Sd,pe,Mt,fo],styles:[`.ngx-pagination{margin-left:0;margin-bottom:1rem}.ngx-pagination:before,.ngx-pagination:after{content:" ";display:table}.ngx-pagination:after{clear:both}.ngx-pagination li{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;margin-right:.0625rem;border-radius:0}.ngx-pagination li{display:inline-block}.ngx-pagination a,.ngx-pagination button{color:#0a0a0a;display:block;padding:.1875rem .625rem;border-radius:0}.ngx-pagination a:hover,.ngx-pagination button:hover{background:#e6e6e6}.ngx-pagination .current{padding:.1875rem .625rem;background:#2199e8;color:#fefefe;cursor:default}.ngx-pagination .disabled{padding:.1875rem .625rem;color:#cacaca;cursor:default}.ngx-pagination .disabled:hover{background:transparent}.ngx-pagination a,.ngx-pagination button{cursor:pointer}.ngx-pagination .pagination-previous a:before,.ngx-pagination .pagination-previous.disabled:before{content:"\\ab";display:inline-block;margin-right:.5rem}.ngx-pagination .pagination-next a:after,.ngx-pagination .pagination-next.disabled:after{content:"\\bb";display:inline-block;margin-left:.5rem}.ngx-pagination .show-for-sr{position:absolute!important;width:1px;height:1px;overflow:hidden;clip:rect(0,0,0,0)}.ngx-pagination .small-screen{display:none}@media screen and (max-width: 601px){.ngx-pagination.responsive .small-screen{display:inline-block}.ngx-pagination.responsive li:not(.small-screen):not(.pagination-previous):not(.pagination-next){display:none}}
`],encapsulation:2,changeDetection:0}),n})(),dn=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ze({type:n}),n.\u0275inj=je({providers:[di],imports:[[yi]]}),n})();var Wt=class n{_HttpClient=w(Ve);baseURL="https://ecommerce.routemisr.com/api/v1/brands";getAllBrands(){return this._HttpClient.get(`${oe.baseURL}/api/v1/brands`)}getAllProducts(t){return this._HttpClient.get(`${oe.baseURL}/api/v1/products?brand=${t}`)}static \u0275fac=function(e){return new(e||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})};var Ed=n=>["/brand-products",n],Pd=(n,t)=>t._id;function Ad(n,t){if(n&1){let e=G();l(0,"div",5),A("click",function(){let r=T(e).$implicit,o=_();return M(o.showSepBrands(r._id))}),l(1,"div",6),h(2,"img",7),c(),l(3,"div",8)(4,"h2",9),m(5),c()()()}if(n&2){let e=t.$implicit;f("routerLink",me(4,Ed,e._id)),d(2),f("src",e.image,K)("alt",e.slug),d(3),U(e.name)}}var un=class n{constructor(t){this._BrandsService=t}allBrands;selectedSpecificBrand;ngOnInit(){this._BrandsService.getAllBrands().subscribe({next:t=>{this.allBrands=t.data,console.log(t.data)},error:t=>{console.log(t)}})}showSepBrands(t){this._BrandsService.getAllProducts(t).subscribe({next:e=>{this.selectedSpecificBrand=e.data,console.log(e)},error:e=>{console.log(e)}})}static \u0275fac=function(e){return new(e||n)(y(Wt))};static \u0275cmp=D({type:n,selectors:[["app-brands"]],decls:7,vars:0,consts:[[1,"main-section"],[1,"container","mx-auto","overflow-hidden"],[1,"text-emerald-500","text-center","font-bold","text-3xl","mb-6","py-3"],[1,"grid","sm:grid-cols-1","md:grid-cols-2","lg:grid-cols-5","gap-5","p-5"],[1,"category-card","bg-white","rounded","shadow-sm","cursor-pointer","hover:shadow-md","hover:scale-105","transition","transform","duration-300",3,"routerLink"],[1,"category-card","bg-white","rounded","shadow-sm","cursor-pointer","hover:shadow-md","hover:scale-105","transition","transform","duration-300",3,"click","routerLink"],[1,"overflow-hidden","h-60"],[1,"w-full","object-cover",3,"src","alt"],[1,"text-center"],[1,"text-emerald-500","font-semibold","text-lg"]],template:function(e,i){e&1&&(l(0,"section",0)(1,"div",1)(2,"h1",2),m(3,` Explore Our Categories
`),c(),l(4,"div",3),Q(5,Ad,6,6,"div",4,Pd),c()()()),e&2&&(d(5),Y(i.allBrands))},dependencies:[re,dn],encapsulation:2})};var Dd=n=>["/subcategory",n],Sa=(n,t)=>t._id;function Id(n,t){if(n&1){let e=G();l(0,"div",7),A("click",function(){let r=T(e).$implicit,o=_();return M(o.showSubCategories(r._id))}),l(1,"div",8),h(2,"img",9),c(),l(3,"div",10)(4,"h2",11),m(5),c()()()}if(n&2){let e=t.$implicit;d(2),f("src",e.image,K)("alt",e.slug),d(3),U(e.name)}}function Td(n,t){if(n&1&&(l(0,"div",6)(1,"h3",12),m(2),c()()),n&2){let e=t.$implicit;f("routerLink",me(2,Dd,e._id)),d(2),U(e.name)}}var mn=class n{constructor(t){this._CatagoriesService=t}allCategories;selectedSubCategories;activeCategoryId;ngOnInit(){this._CatagoriesService.getAllCategories().subscribe({next:t=>{this.allCategories=t.data,console.log(t.data)},error:t=>{console.log(t)}})}showSubCategories(t){this._CatagoriesService.getSubCategories(t).subscribe({next:e=>{this.selectedSubCategories=e.data,console.log(e)},error:e=>{console.log(e)}})}static \u0275fac=function(e){return new(e||n)(y(rt))};static \u0275cmp=D({type:n,selectors:[["app-categories"]],decls:10,vars:0,consts:[[1,"main-section"],[1,"container","mx-auto","overflow-hidden"],[1,"text-emerald-500","text-center","font-bold","text-3xl","mb-6","py-3"],[1,"grid","sm:grid-cols-1","md:grid-cols-2","lg:grid-cols-5","gap-5","p-5"],[1,"category-card","bg-white","rounded","shadow-sm","cursor-pointer","hover:shadow-md","hover:scale-105","transition","transform","duration-300"],[1,"grid","sm:grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-5","py-5"],[1,"card","bg-emerald-200","rounded","shadow-sm","p-4","flex","items-center","justify-center","hover:shadow-md","hover:text-emerald-500","transition","duration-300",3,"routerLink"],[1,"category-card","bg-white","rounded","shadow-sm","cursor-pointer","hover:shadow-md","hover:scale-105","transition","transform","duration-300",3,"click"],[1,"overflow-hidden","h-60"],[1,"w-full","object-cover",3,"src","alt"],[1,"text-center"],[1,"text-emerald-500","font-semibold","text-lg"],[1,"text-gray-700","font-medium","text-base"]],template:function(e,i){e&1&&(l(0,"section",0)(1,"div",1)(2,"h1",2),m(3,` Explore Our Categories
`),c(),l(4,"div",3),Q(5,Id,6,3,"div",4,Sa),c(),l(7,"div",5),Q(8,Td,3,4,"div",6,Sa),c()()()),e&2&&(d(5),Y(i.allCategories),d(3),Y(i.selectedSubCategories))},dependencies:[re],encapsulation:2})};var Md=n=>["/checkout",n],Fd=(n,t)=>t.product._id;function Nd(n,t){if(n&1){let e=G();l(0,"i",19),A("click",function(){T(e);let r=_().$implicit,o=_();return M(o.changeCount(r.product._id,r.count-1))}),c()}}function kd(n,t){if(n&1){let e=G();l(0,"div",5)(1,"div",7),h(2,"img",8),c(),l(3,"div",9)(4,"h1",10),m(5),c(),l(6,"h2",11),m(7),c(),l(8,"h6",12),A("click",function(){let r=T(e).$implicit,o=_();return M(o.deleteProduct(r.product._id))}),h(9,"i",13),l(10,"span"),m(11,"Remove"),c()()(),l(12,"div",14)(13,"div",15)(14,"i",16),A("click",function(){let r=T(e).$implicit,o=_();return M(o.changeCount(r.product._id,r.count+1))}),c(),l(15,"h3",17),m(16),c(),B(17,Nd,1,0,"i",18),c()()()}if(n&2){let e=t.$implicit;d(2),f("src",e.product.imageCover,K),d(3),N(" ",e.product.title," "),d(2),N(" ",e.price," EGP "),d(9),N(" ",e.count," "),d(),j(e.count>1?17:-1)}}function Vd(n,t){if(n&1&&(l(0,"div",6)(1,"h3",20),m(2," Total: "),l(3,"span",21),m(4),c()(),l(5,"button",22),m(6," \u2705 Check out "),c()()),n&2){let e=_();d(4),N("",e.cartData.totalCartPrice," EGP"),d(),f("routerLink",me(2,Md,e.cartData._id))}}var pn=class n{_CartService=w(xe);cartData={};ngOnInit(){this._CartService.GetLoggedUserCart().subscribe({next:t=>{console.log(t),this.cartData=t.data}})}changeCount(t,e){this._CartService.UpdateCartProductQuantity(t,e).subscribe({next:i=>{console.log(i),this.cartData=i.data}})}deleteProduct(t){this._CartService.RemovespecifiCartItem(t).subscribe({next:e=>{this._CartService.cartCount.next(e.numOfCartItems),console.log(e),this.cartData=e.data}})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=D({type:n,selectors:[["app-cart"]],decls:9,vars:1,consts:[[1,"main-section","py-6"],[1,"container-auto","px-4","lg:px-12"],[1,"bg-white","rounded-2xl","shadow-lg","border","border-gray-200","p-6"],[1,"text-emerald-500","font-extrabold","text-4xl","mb-6","text-center"],[1,"divide-y","divide-gray-300"],[1,"flex","flex-wrap","items-center","justify-between","py-4"],[1,"flex","flex-col","md:flex-row","justify-between","items-center","mt-8"],[1,"w-full","md:w-1/6","flex","justify-center","mb-4","md:mb-0"],["alt","",1,"w-28","h-28","object-cover","rounded-lg","shadow-sm","border","border-gray-300",3,"src"],[1,"w-full","md:w-2/4","px-4"],[1,"font-bold","text-lg","md:text-xl","mb-1","text-gray-800"],[1,"font-medium","text-md","mb-2","text-gray-600"],[1,"cursor-pointer","text-md","md:text-lg","text-red-500","flex","items-center","gap-2","hover:text-red-600","duration-200",3,"click"],[1,"fa","fa-trash-can"],[1,"w-full","md:w-1/6","flex","justify-center","md:justify-end"],[1,"flex","items-center","gap-4","text-emerald-600","font-bold","text-xl"],[1,"fa","fa-plus-circle","cursor-pointer","hover:scale-110","duration-200",3,"click"],[1,"text-gray-800"],[1,"fa","fa-minus-circle","cursor-pointer","hover:scale-110","duration-200"],[1,"fa","fa-minus-circle","cursor-pointer","hover:scale-110","duration-200",3,"click"],[1,"font-bold","text-2xl","text-gray-800","mb-4","md:mb-0"],[1,"text-emerald-600"],[1,"px-8","py-4","bg-emerald-500","text-white","rounded-xl","font-bold","hover:bg-emerald-600","duration-200","shadow-lg",3,"routerLink"]],template:function(e,i){e&1&&(l(0,"section",0)(1,"div",1)(2,"div",2)(3,"h1",3),m(4,"\u{1F6D2} Shop Cart"),c(),l(5,"div",4),Q(6,kd,18,5,"div",5,Fd),c(),B(8,Vd,7,4,"div",6),c()()()),e&2&&(d(6),Y(i.cartData.products),d(2),j(i.cartData.products.length>0?8:-1))},dependencies:[re],encapsulation:2})};var Od=(n,t,e)=>({id:"some",itemsPerPage:n,currentPage:t,totalItems:e}),Rd=n=>["/p_details",n],Ld=(n,t)=>t._id;function Bd(n,t){if(n&1){let e=G();l(0,"div",5)(1,"div",8)(2,"div",9)(3,"div"),h(4,"img",10),c(),l(5,"h1",11),m(6),c(),l(7,"h2",12),m(8),c(),l(9,"div",13)(10,"span"),m(11),c(),l(12,"span"),h(13,"i",14),m(14),c()(),l(15,"i",15),A("click",function(){let r=T(e).$implicit,o=_();return M(o.toggleWishlist(r))}),c()(),l(16,"button",16),A("click",function(){let r=T(e).$implicit,o=_();return M(o.addToCart(r._id))}),m(17,"Add to Cart"),c()()()}if(n&2){let e=t.$implicit;d(2),f("routerLink",me(8,Rd,e._id)),d(2),f("src",e.imageCover,K)("alt",e.title),d(2),N("",e.category.name," "),d(2),N("",e.title.split(" ",3).join(" ")," "),d(3),N("",e.price," EGP"),d(3),U(e.ratingsAverage),d(),f("ngClass",e.inWishlist?"text-red-600":"text-black")}}var fn=class n{constructor(t,e,i,r){this._ProductsService=t;this._CartService=e;this.toastr=i;this._WishlistService=r}products;fromInput="";pageSize;p;total;ngOnInit(){this.getAllProductsData()}getAllProductsData(t=1){this._ProductsService.getAllProducts(t).subscribe({next:e=>{this.products=e.data,this.pageSize=e.metadata.limit,this.p=e.metadata.currentPage,this.total=e.results,this._WishlistService.GetLoggedUserWishlist().subscribe({next:i=>{let r=i.data.map(o=>o._id);this.products.forEach(o=>{o.inWishlist=r.includes(o._id)})},error:i=>console.log(i)}),console.log(this.products)},error:e=>{console.log(e)}})}addToCart(t){this._CartService.AddProductToCart(t).subscribe({next:e=>{console.log(e),this._CartService.cartCount.next(e.numOfCartItems),console.log("cart count in service",this._CartService.cartCount),this.toastr.success(e.message,e.status,{timeOut:3e3,closeButton:!0,progressBar:!0})}})}toggleWishlist(t){t.inWishlist?(t.inWishlist=!1,this._WishlistService.RemoveProductFromWishlist(t._id).subscribe({next:e=>{this.toastr.info(e.message,e.status,{timeOut:2e3,closeButton:!0,progressBar:!0})},error:e=>{console.log(e)}})):(t.inWishlist=!0,this._WishlistService.AddProductToWishlist(t._id).subscribe({next:e=>{this.toastr.success(e.message,e.status,{timeOut:2e3,closeButton:!0,progressBar:!0})},error:e=>{console.log(e),t.inWishlist=!1}}))}static \u0275fac=function(e){return new(e||n)(y(Ze),y(xe),y(we),y(Re))};static \u0275cmp=D({type:n,selectors:[["app-products"]],decls:12,vars:11,consts:[[1,"main-section"],[1,"container-auto"],[1,"text-emerald-500","text-center","font-bold","text-4xl","mb-6","py-3"],["type","text","placeholder","Search products...","name","","id","",1,"w-1/2","block","mx-auto","rounded-md","p-1","focus:transition-all","focus:duration-500","focus:border-2","focus:border-emerald-500","my-3",3,"ngModelChange","ngModel"],[1,"grid","gap-4","sm:grid-cols-2","md:grid-cols-3","lg:grid-cols-4"],[1,"outter","p-3"],[1,"flex","items-center","justify-center","mt-4"],["id","some",1,"my-pagination",3,"pageChange"],[1,"product","p-3","group"],[3,"routerLink"],[1,"w-full","block","rounded-md",3,"src","alt"],[1,"text-emerald-400","py-2"],[1,"text-black","font-medium","py-1"],[1,"flex","justify-between","items-center"],[1,"fas","fa-star","text-yellow-500"],[1,"fa","fa-heart","cursor-pointer","text-xl","mt-2",3,"click","ngClass"],[1,"main-btn","translate-y-[150%]","group-hover:translate-y-0","duration-500",3,"click"]],template:function(e,i){e&1&&(l(0,"section",0)(1,"div",1)(2,"h1",2),m(3,"Featured Products"),c(),l(4,"input",3),vi("ngModelChange",function(o){return _i(i.fromInput,o)||(i.fromInput=o),o}),c(),l(5,"div",4),Q(6,Bd,18,10,"div",5,Ld),Ce(8,"search"),Ce(9,"paginate"),c(),l(10,"div",6)(11,"pagination-controls",7),A("pageChange",function(o){return i.getAllProductsData(o)}),c()()()()),e&2&&(d(4),gi("ngModel",i.fromInput),d(2),Y(ke(9,4,ke(8,1,i.products,i.fromInput),ao(7,Od,i.pageSize,i.p,i.total))))},dependencies:[re,nn,ge,Ae,ai,dn,Ca,Xe,Ut,ba],styles:[".my-pagination[_ngcontent-%COMP%]     .ngx-pagination .current{background:#55b187}"]})};var wa=(n,t)=>{let e=w(Se),i=w(Oe);return e.get("token")?!0:i.parseUrl("/login")};var $t=class n{_HttpClient=w(Ve);CheckOutSession(t,e){return this._HttpClient.post(`${oe.baseURL}/api/v1/orders/checkout-session/${t}?url=${oe.domain}`,{shippingAddress:e})}getUserOrders(t){return this._HttpClient.get(`${oe.baseURL}/api/v1/orders/user/${t}`)}static \u0275fac=function(e){return new(e||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})};function Gd(n,t){n&1&&h(0,"i",20)}var hn=class n{_ActivatedRoute=w(Ft);_OrdersService=w($t);isLoading=!1;cartId;checkOutForm=new Pe({details:new J(null,R.required),phone:new J(null,[R.required,R.pattern(/^01[0125][0-9]{8}$/)]),city:new J(null,R.required)});ngOnInit(){this._ActivatedRoute.paramMap.subscribe({next:t=>{this.cartId=t.get("c_id"),console.log(this.cartId)}})}checkOut(){this.isLoading=!0,this.checkOutForm.valid&&(console.log(this.checkOutForm),this._OrdersService.CheckOutSession(this.cartId,this.checkOutForm.value).subscribe({next:t=>{console.log(t),window.open(t.session.url,"_self")}}))}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=D({type:n,selectors:[["app-checkout"]],decls:24,vars:3,consts:[[1,"main-section"],[1,"max-w-md","mx-auto","bg-white","p-6","rounded-2xl","shadow-xl","mt-7","py-14"],[1,"text-emerald-500","text-center","text-3xl","font-bold","mb-6"],[3,"ngSubmit","formGroup"],[1,"relative","mb-5"],["type","text","formControlName","details","id","details","placeholder","Details",1,"w-full","border","border-gray-300","rounded-lg","p-3","focus:border-emerald-500","focus:ring-emerald-300","focus:ring-1","transition"],["for","details",1,"absolute","left-3","top-0","text-gray-400","text-sm"],["type","tel","formControlName","phone","id","phone","placeholder","Phone",1,"w-full","border","border-gray-300","rounded-lg","p-3","focus:border-emerald-500","focus:ring-emerald-300","focus:ring-1","transition"],["for","phone",1,"absolute","left-3","top-0","text-gray-400","text-sm"],["list","cityList","formControlName","city","id","city","placeholder","City",1,"w-full","border","border-gray-300","rounded-lg","p-3","focus:border-emerald-500","focus:ring-emerald-300","focus:ring-1","transition"],["for","city",1,"absolute","left-3","top-0","text-gray-400","text-sm"],["id","cityList"],["value","Cairo"],["value","Alex"],["value","Asiut"],["value","Giza"],["value","Matrouh"],[1,"flex","justify-center","mt-6"],["type","submit",1,"w-full","bg-emerald-500","hover:bg-emerald-600","text-white","font-semibold","py-3","rounded-full","shadow-md","transition","flex","justify-center","items-center","gap-2",3,"disabled"],["class","fas fa-spinner fa-spin",4,"ngIf"],[1,"fas","fa-spinner","fa-spin"]],template:function(e,i){e&1&&(l(0,"section",0)(1,"div",1)(2,"h1",2),m(3," Ready to Checkout? \u{1F6D2}"),c(),l(4,"form",3),A("ngSubmit",function(){return i.checkOut()}),l(5,"div",4),h(6,"input",5)(7,"label",6),c(),l(8,"div",4),h(9,"input",7)(10,"label",8),c(),l(11,"div",4),h(12,"input",9)(13,"label",10),l(14,"datalist",11),h(15,"option",12)(16,"option",13)(17,"option",14)(18,"option",15)(19,"option",16),c()(),l(20,"div",17)(21,"button",18),m(22," Payment "),F(23,Gd,1,0,"i",19),c()()()()()),e&2&&(d(4),f("formGroup",i.checkOutForm),d(17),f("disabled",i.checkOutForm.invalid),d(2),f("ngIf",i.isLoading))},dependencies:[nt,it,ca,ua,ge,Ae,tt,We,$e,pe],encapsulation:2})};var xa=(n,t)=>t._id;function zd(n,t){if(n&1&&(X(0,"div",10)(1,"div",11),ut(2,"img",12),H(),X(3,"div",13)(4,"h1",14),m(5),H(),X(6,"p",6),m(7),H()(),X(8,"div",15)(9,"h3",16),m(10),H()()()),n&2){let e=t.$implicit;d(2),Jr("src",e.product.imageCover,K),d(3),U(e.product.title),d(2),N("Price: ",e.price," EGP"),d(3),N("Qty: ",e.count)}}function Ud(n,t){if(n&1&&(X(0,"div",3)(1,"div",4)(2,"h2",5),m(3,"Order ID: "),X(4,"span",6),m(5),H()(),X(6,"h3",7),m(7),Ce(8,"date"),H(),X(9,"h3",8),m(10),H()(),X(11,"div",9),Q(12,zd,11,4,"div",10,xa),H()()),n&2){let e=t.$implicit;d(5),U(e.id),d(2),N("Date: ",ke(8,3,e.createdAt,"medium")),d(3),N("Total: ",e.totalOrderPrice," EGP"),d(2),Y(e.cartItems)}}var gn=class n{constructor(t,e){this._OrdersService=t;this._AuthService=e}userId;allOrders=[];loading=!1;ngOnInit(){this.userId=this._AuthService.userInfo.id,this._OrdersService.getUserOrders(this.userId).subscribe({next:t=>{this.allOrders=t,this.loading=!1},error:t=>{console.log(t),this.loading=!1}})}static \u0275fac=function(e){return new(e||n)(y($t),y(Be))};static \u0275cmp=D({type:n,selectors:[["app-allorders"]],decls:6,vars:0,consts:[[1,"main-section","py-8"],[1,"container-auto","px-4"],[1,"text-emerald-500","font-extrabold","text-3xl","mb-8","text-center"],[1,"bg-white","rounded-2xl","shadow-md","border","border-gray-200","p-6","mb-8"],[1,"flex","flex-col","md:flex-row","justify-between","items-start","md:items-center","mb-4"],[1,"font-bold","text-xl","text-gray-800"],[1,"text-gray-600"],[1,"text-gray-700","mt-2","md:mt-0"],[1,"text-emerald-600","font-bold","mt-2","md:mt-0"],[1,"divide-y","divide-gray-200"],[1,"flex","flex-wrap","items-center","justify-between","py-4"],[1,"w-full","md:w-1/6","flex","justify-center","mb-4","md:mb-0"],["alt","",1,"w-20","h-20","object-cover","rounded-lg","border","border-gray-300","shadow-sm",3,"src"],[1,"w-full","md:w-2/4","px-4"],[1,"font-semibold","text-lg","text-gray-800"],[1,"w-full","md:w-1/6","text-center","md:text-right"],[1,"font-bold","text-gray-700"]],template:function(e,i){e&1&&(X(0,"section",0)(1,"div",1)(2,"h1",2),m(3,"\u{1F4E6} All Orders"),H(),Q(4,Ud,14,6,"div",3,xa),H()()),e&2&&(d(4),Y(i.allOrders.slice().reverse()))},dependencies:[yi,po],encapsulation:2})};var _n=class n{constructor(t){this.http=t}ForgotPassword(t){return this.http.post(`${oe.baseURL}/api/v1/auth/forgotPasswords`,t)}resetCode(t){return this.http.post(`${oe.baseURL}/api/v1/auth/verifyResetCode`,t)}restPassword(t){return this.http.put(`${oe.baseURL}/api/v1/auth/resetPassword`,t)}static \u0275fac=function(e){return new(e||n)(qe(Ve))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})};function Wd(n,t){n&1&&(l(0,"p"),m(1,"Email is required"),c())}function $d(n,t){n&1&&(l(0,"p"),m(1,"Invalid email format"),c())}function Hd(n,t){if(n&1&&(l(0,"div",10),F(1,Wd,2,0,"p",11)(2,$d,2,0,"p",11),c()),n&2){let e,i,r=_(2);d(),f("ngIf",(e=r.forgotPasswordForm.get("email"))==null?null:e.hasError("required")),d(),f("ngIf",(i=r.forgotPasswordForm.get("email"))==null?null:i.hasError("email"))}}function qd(n,t){n&1&&h(0,"i",12)}function Kd(n,t){if(n&1){let e=G();l(0,"section",1)(1,"h1",2),m(2,"Forgot Password"),c(),l(3,"form",3),A("ngSubmit",function(){T(e);let r=_();return M(r.ForgetForm())}),l(4,"div",4),h(5,"input",5)(6,"label",6),c(),F(7,Hd,3,2,"div",7),l(8,"button",8),m(9," Send Email "),F(10,qd,1,0,"i",9),c()()()}if(n&2){let e,i=_();d(3),f("formGroup",i.forgotPasswordForm),d(4),f("ngIf",((e=i.forgotPasswordForm.get("email"))==null?null:e.errors)&&((e=i.forgotPasswordForm.get("email"))==null?null:e.touched)),d(3),f("ngIf",i.isLoading)}}function Qd(n,t){n&1&&(l(0,"p"),m(1,"Code is required"),c())}function Yd(n,t){n&1&&(l(0,"p"),m(1,"Code is invalid"),c())}function Xd(n,t){if(n&1&&(l(0,"div",10),F(1,Qd,2,0,"p",11)(2,Yd,2,0,"p",11),c()),n&2){let e,i,r=_(2);d(),f("ngIf",(e=r.resetCodeForm.get("resetCode"))==null?null:e.hasError("required")),d(),f("ngIf",(i=r.resetCodeForm.get("resetCode"))==null?null:i.hasError("pattern"))}}function Zd(n,t){n&1&&h(0,"i",12)}function Jd(n,t){if(n&1){let e=G();l(0,"section",1)(1,"h1",2),m(2,"Reset Code"),c(),l(3,"form",3),A("ngSubmit",function(){T(e);let r=_();return M(r.CodeForm())}),l(4,"div",4),h(5,"input",13)(6,"label",14),c(),F(7,Xd,3,2,"div",7),l(8,"button",8),m(9," Send Code "),F(10,Zd,1,0,"i",9),c()()()}if(n&2){let e,i=_();d(3),f("formGroup",i.resetCodeForm),d(4),f("ngIf",((e=i.resetCodeForm.get("resetCode"))==null?null:e.errors)&&((e=i.resetCodeForm.get("resetCode"))==null?null:e.touched)),d(3),f("ngIf",i.isLoading)}}function eu(n,t){n&1&&(l(0,"p"),m(1,"Email is required"),c())}function tu(n,t){n&1&&(l(0,"p"),m(1,"Invalid email format"),c())}function iu(n,t){if(n&1&&(l(0,"div",10),F(1,eu,2,0,"p",11)(2,tu,2,0,"p",11),c()),n&2){let e,i,r=_(2);d(),f("ngIf",(e=r.restPasswordForm.get("email"))==null?null:e.hasError("required")),d(),f("ngIf",(i=r.restPasswordForm.get("email"))==null?null:i.hasError("email"))}}function nu(n,t){n&1&&(l(0,"p"),m(1,"Password is required"),c())}function ru(n,t){n&1&&(l(0,"p"),m(1,"Password must be 6-20 characters"),c())}function ou(n,t){if(n&1&&(l(0,"div",10),F(1,nu,2,0,"p",11)(2,ru,2,0,"p",11),c()),n&2){let e,i,r=_(2);d(),f("ngIf",(e=r.restPasswordForm.get("newPassword"))==null?null:e.hasError("required")),d(),f("ngIf",(i=r.restPasswordForm.get("newPassword"))==null?null:i.hasError("pattern"))}}function su(n,t){n&1&&h(0,"i",12)}function au(n,t){if(n&1){let e=G();l(0,"section",1)(1,"h1",2),m(2,"New Password"),c(),l(3,"form",3),A("ngSubmit",function(){T(e);let r=_();return M(r.PasswordForm())}),l(4,"div",4),h(5,"input",5)(6,"label",6),c(),F(7,iu,3,2,"div",7),l(8,"div",4),h(9,"input",15)(10,"label",16),c(),F(11,ou,3,2,"div",7),l(12,"button",8),m(13," Send New Password "),F(14,su,1,0,"i",9),c()()()}if(n&2){let e,i,r=_();d(3),f("formGroup",r.restPasswordForm),d(4),f("ngIf",((e=r.restPasswordForm.get("email"))==null?null:e.errors)&&((e=r.restPasswordForm.get("email"))==null?null:e.touched)),d(4),f("ngIf",((i=r.restPasswordForm.get("newPassword"))==null?null:i.errors)&&((i=r.restPasswordForm.get("newPassword"))==null?null:i.touched)),d(3),f("ngIf",r.isLoading)}}var vn=class n{isLoading=!1;errMsg="";step=1;_RestPasswordServiceService=w(_n);router=w(Oe);forgotPasswordForm=new Pe({email:new J("",[R.required,R.email])});ForgetForm(){this.isLoading=!0,this._RestPasswordServiceService.ForgotPassword(this.forgotPasswordForm.value).subscribe({next:t=>{this.isLoading=!1,this.step=2},error:t=>{this.errMsg=t.error.message,this.isLoading=!1}})}resetCodeForm=new Pe({resetCode:new J("",[R.required,R.pattern(/^\w{6,20}$/)])});CodeForm(){this.isLoading=!0,this._RestPasswordServiceService.resetCode(this.resetCodeForm.value).subscribe({next:t=>{this.isLoading=!1,t.status=="Success"&&(this.step=3)},error:t=>{this.errMsg=t.error.message,this.isLoading=!1}})}restPasswordForm=new Pe({email:new J("",[R.required,R.email]),newPassword:new J("",[R.required,R.pattern(/^\w{6,20}$/)])});PasswordForm(){this.isLoading=!0,this._RestPasswordServiceService.restPassword(this.restPasswordForm.value).subscribe({next:t=>{this.isLoading=!1,t.token&&this.router.navigate(["/login"])},error:t=>{this.errMsg=t.error.message,this.isLoading=!1}})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=D({type:n,selectors:[["app-forgot-password"]],decls:3,vars:3,consts:[["class","max-w-md mx-auto bg-white p-6 rounded-2xl shadow-xl mt-16",4,"ngIf"],[1,"max-w-md","mx-auto","bg-white","p-6","rounded-2xl","shadow-xl","mt-16"],[1,"text-emerald-500","text-center","text-3xl","font-bold","mb-6"],[3,"ngSubmit","formGroup"],[1,"relative","mb-5"],["type","email","id","email","formControlName","email","placeholder","Enter your email",1,"w-full","border","border-gray-300","rounded-lg","p-3","focus:border-emerald-500","focus:ring-emerald-300","focus:ring-1","transition"],["for","email",1,"absolute","left-3","top-0","text-gray-400","text-sm"],["class","bg-red-100 text-red-700 p-3 rounded mb-4 text-sm",4,"ngIf"],["type","submit",1,"w-full","bg-emerald-500","hover:bg-emerald-600","text-white","font-semibold","py-3","rounded-full","shadow-md","flex","justify-center","items-center","gap-2","transition"],["class","fas fa-spinner fa-spin",4,"ngIf"],[1,"bg-red-100","text-red-700","p-3","rounded","mb-4","text-sm"],[4,"ngIf"],[1,"fas","fa-spinner","fa-spin"],["type","text","id","resetCode","formControlName","resetCode","placeholder","Enter reset code",1,"w-full","border","border-gray-300","rounded-lg","p-3","focus:border-emerald-500","focus:ring-emerald-300","focus:ring-1","transition"],["for","resetCode",1,"absolute","left-3","top-0","text-gray-400","text-sm"],["type","password","id","newPassword","formControlName","newPassword","placeholder","Enter new password",1,"w-full","border","border-gray-300","rounded-lg","p-3","focus:border-emerald-500","focus:ring-emerald-300","focus:ring-1","transition"],["for","newPassword",1,"absolute","left-3","top-0","text-gray-400","text-sm"]],template:function(e,i){e&1&&F(0,Kd,11,3,"section",0)(1,Jd,11,3,"section",0)(2,au,15,4,"section",0),e&2&&(f("ngIf",i.step===1),d(),f("ngIf",i.step===2),d(),f("ngIf",i.step===3))},dependencies:[nt,it,ge,Ae,tt,We,$e,pe],encapsulation:2})};function lu(n,t){if(n&1){let e=G();l(0,"div",6)(1,"div",7),h(2,"img",8)(3,"i",9),c(),l(4,"div",10)(5,"h2",11),m(6),c(),l(7,"p",12),m(8),c(),l(9,"button",13),A("click",function(){let r=T(e).$implicit,o=_(2);return M(o.removeFromWishlist(r._id))}),m(10," Remove "),c()()()}if(n&2){let e=t.$implicit;d(2),f("src",e.imageCover,K)("alt",e.title),d(4),N(" ",e.title," "),d(2),N(" ",e.price," EGP ")}}function cu(n,t){if(n&1&&(l(0,"div",4),F(1,lu,11,4,"div",5),c()),n&2){let e=_();d(),f("ngForOf",e.wishlistProducts)}}function du(n,t){n&1&&(l(0,"p",14),m(1," Your wishlist is empty "),c())}var yn=class n{constructor(t,e){this._WishlistService=t;this.ToastrService=e}wishlistProducts=[];ngOnInit(){this.getWishlist()}getWishlist(){this._WishlistService.GetLoggedUserWishlist().subscribe({next:t=>{console.log(t.data),this.wishlistProducts=t.data},error:t=>{console.log(t)}})}removeFromWishlist(t){this._WishlistService.RemoveProductFromWishlist(t).subscribe({next:e=>{this.wishlistProducts=this.wishlistProducts.filter(i=>i._id!==t),this.ToastrService.info(e.message,e.status,{timeOut:2e3,closeButton:!0,progressBar:!0})},error:e=>{console.log(e)}})}static \u0275fac=function(e){return new(e||n)(y(Re),y(we))};static \u0275cmp=D({type:n,selectors:[["app-wishlist"]],decls:6,vars:2,consts:[["emptyState",""],[1,"container-auto","py-10"],[1,"text-emerald-500","text-center","text-4xl","font-bold","mb-8"],["class","grid gap-8 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-4 justify-items-center",4,"ngIf","ngIfElse"],[1,"grid","gap-8","sm:grid-cols-1","md:grid-cols-2","lg:grid-cols-4","justify-items-center"],["class","bg-gradient-to-b from-white via-emerald-50 to-white shadow-xl rounded overflow-hidden transform transition duration-300 hover:scale-105 hover:shadow-2xl w-full max-w-[260px]",4,"ngFor","ngForOf"],[1,"bg-gradient-to-b","from-white","via-emerald-50","to-white","shadow-xl","rounded","overflow-hidden","transform","transition","duration-300","hover:scale-105","hover:shadow-2xl","w-full","max-w-[260px]"],[1,"relative","group","overflow-hidden","rounded"],[1,"w-full","h-70","object-cover","transition-transform","duration-500","group-hover:scale-110",3,"src","alt"],[1,"fa","fa-heart","absolute","top-3","right-3","text-2xl","text-red-500","cursor-pointer","hover:scale-125","transition-transform","duration-300"],[1,"p-5","text-center"],[1,"text-lg","font-semibold","text-gray-800","mb-2","truncate","hover:text-emerald-600","transition-colors","duration-300"],[1,"text-emerald-500","font-bold","text-lg","mb-4"],[1,"bg-red-500","hover:bg-red-600","text-white","font-semibold","py-2","px-6","rounded-full","shadow-md","transition-all","duration-300","transform","hover:-translate-y-1",3,"click"],[1,"text-center","text-gray-400","text-lg","mt-10"]],template:function(e,i){if(e&1&&(l(0,"section",1)(1,"h1",2),m(2," My Favorite Products "),c(),F(3,cu,2,1,"div",3)(4,du,2,0,"ng-template",null,0,Tt),c()),e&2){let r=ne(5);d(3),f("ngIf",i.wishlistProducts.length>0)("ngIfElse",r)}},dependencies:[pe,Mt],encapsulation:2})};var uu=n=>["/p_details",n],mu=(n,t)=>t._id;function pu(n,t){if(n&1){let e=G();l(0,"div",6)(1,"div",7)(2,"div",8)(3,"div"),h(4,"img",9),c(),l(5,"h1",10),m(6),c(),l(7,"h2",11),m(8),c(),l(9,"div",12)(10,"span"),m(11),c(),l(12,"span"),h(13,"i",13),m(14),c()(),l(15,"i",14),A("click",function(){let r=T(e).$implicit,o=_(2);return M(o.toggleWishlist(r))}),c()(),l(16,"button",15),A("click",function(){let r=T(e).$implicit,o=_(2);return M(o.addToCart(r._id))}),m(17,"Add to Cart"),c()()()}if(n&2){let e=t.$implicit;d(2),f("routerLink",me(8,uu,e._id)),d(2),f("src",e.imageCover,K)("alt",e.title),d(2),N("",e.category.name," "),d(2),N("",e.title.split(" ",3).join(" ")," "),d(3),N("",e.price," EGP"),d(3),U(e.ratingsAverage),d(),f("ngClass",e.inWishlist?"text-red-600":"text-black")}}function fu(n,t){if(n&1&&(l(0,"div")(1,"div",5),Q(2,pu,18,10,"div",6,mu),c()()),n&2){let e=_();d(2),Y(e.products)}}function hu(n,t){n&1&&(l(0,"div",16)(1,"h1",17),m(2,"products"),c(),l(3,"p",18),m(4,"currently unavailable"),c()())}var bn=class n{_ProductsService=w(Ze);_ActivatedRoute=w(Ft);_CartService=w(xe);_WishlistService=w(Re);Toster=w(we);_CatagoriesService=w(rt);subcategory_id;products;productDetails={};wishlistProducts=[];ngOnInit(){this._ActivatedRoute.paramMap.subscribe({next:t=>{this.subcategory_id=t.get("s_id"),this._CatagoriesService.getAllProducts(this.subcategory_id).subscribe({next:e=>{this.products=e.data,console.log(this)}}),this._WishlistService.GetLoggedUserWishlist().subscribe({next:e=>{let i=e.data.map(r=>r._id);this.products.forEach(r=>{r.inWishlist=i.includes(r._id)})},error:e=>console.log(e)}),console.log(this.products)}})}addToCart(t){this._CartService.AddProductToCart(t).subscribe({next:e=>{console.log(e),this._CartService.cartCount.next(e.numOfCartItems),console.log("cart count in service",this._CartService.cartCount),this.Toster.success(e.message,e.status,{timeOut:3e3,closeButton:!0,progressBar:!0})}})}toggleWishlist(t){t.inWishlist?(t.inWishlist=!1,this._WishlistService.RemoveProductFromWishlist(t._id).subscribe({next:e=>{this.Toster.info(e.message,e.status,{timeOut:2e3,closeButton:!0,progressBar:!0})},error:e=>{console.log(e)}})):(t.inWishlist=!0,this._WishlistService.AddProductToWishlist(t._id).subscribe({next:e=>{this.Toster.success(e.message,e.status,{timeOut:2e3,closeButton:!0,progressBar:!0})},error:e=>{console.log(e),t.inWishlist=!1}}))}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=D({type:n,selectors:[["app-sub-category"]],decls:7,vars:2,consts:[["emptyState",""],[1,"main-section"],[1,"container-auto"],[1,"text-emerald-500","text-center","font-bold","text-4xl","mb-6","py-3"],[4,"ngIf","ngIfElse"],[1,"grid","gap-4","sm:grid-cols-2","md:grid-cols-3","lg:grid-cols-4"],[1,"outter","p-3"],[1,"product","p-3","group"],[3,"routerLink"],[1,"w-full","block","rounded-md",3,"src","alt"],[1,"text-emerald-400","py-2"],[1,"text-black","font-medium","py-1"],[1,"flex","justify-between","items-center"],[1,"fas","fa-star","text-yellow-500"],[1,"fa","fa-heart","cursor-pointer","text-xl","mt-2",3,"click","ngClass"],[1,"main-btn","translate-y-[150%]","group-hover:translate-y-0","duration-500",3,"click"],[1,"text-center","mt-10","py-20"],[1,"text-emerald-400","text-5xl","py-5","font-extralight"],[1,"text-4xl","font-light"]],template:function(e,i){if(e&1&&(l(0,"section",1)(1,"div",2)(2,"h1",3),m(3,"Featured Products"),c(),F(4,fu,4,0,"div",4),c(),F(5,hu,5,0,"ng-template",null,0,Tt),c()),e&2){let r=ne(6);d(4),f("ngIf",i.products.length)("ngIfElse",r)}},dependencies:[re,Xe,pe],encapsulation:2})};var gu=n=>["/p_details",n],_u=(n,t)=>t._id;function vu(n,t){if(n&1){let e=G();l(0,"div",6)(1,"div",7)(2,"div",8)(3,"div"),h(4,"img",9),c(),l(5,"h1",10),m(6),c(),l(7,"h2",11),m(8),c(),l(9,"div",12)(10,"span"),m(11),c(),l(12,"span"),h(13,"i",13),m(14),c()(),l(15,"i",14),A("click",function(){let r=T(e).$implicit,o=_(2);return M(o.toggleWishlist(r))}),c()(),l(16,"button",15),A("click",function(){let r=T(e).$implicit,o=_(2);return M(o.addToCart(r._id))}),m(17,"Add to Cart"),c()()()}if(n&2){let e=t.$implicit;d(2),f("routerLink",me(8,gu,e._id)),d(2),f("src",e.imageCover,K)("alt",e.title),d(2),N("",e.category.name," "),d(2),N("",e.title.split(" ",3).join(" ")," "),d(3),N("",e.price," EGP"),d(3),U(e.ratingsAverage),d(),f("ngClass",e.inWishlist?"text-red-600":"text-black")}}function yu(n,t){if(n&1&&(l(0,"div")(1,"div",5),Q(2,vu,18,10,"div",6,_u),c()()),n&2){let e=_();d(2),Y(e.products)}}function bu(n,t){n&1&&(l(0,"div",16)(1,"h1",17),m(2,"products"),c(),l(3,"p",18),m(4,"currently unavailable"),c()())}var Cn=class n{_ProductsService=w(Ze);_ActivatedRoute=w(Ft);_CartService=w(xe);_WishlistService=w(Re);Toster=w(we);_BrandsService=w(Wt);brandprouducts_id;products;productDetails={};wishlistProducts=[];ngOnInit(){this._ActivatedRoute.paramMap.subscribe({next:t=>{this.brandprouducts_id=t.get("b_id"),this._BrandsService.getAllProducts(this.brandprouducts_id).subscribe({next:e=>{this.products=e.data,console.log(this)}}),this._WishlistService.GetLoggedUserWishlist().subscribe({next:e=>{let i=e.data.map(r=>r._id);this.products.forEach(r=>{r.inWishlist=i.includes(r._id)})},error:e=>console.log(e)}),console.log(this.products)}})}addToCart(t){this._CartService.AddProductToCart(t).subscribe({next:e=>{console.log(e),this._CartService.cartCount.next(e.numOfCartItems),console.log("cart count in service",this._CartService.cartCount),this.Toster.success(e.message,e.status,{timeOut:3e3,closeButton:!0,progressBar:!0})}})}toggleWishlist(t){t.inWishlist?(t.inWishlist=!1,this._WishlistService.RemoveProductFromWishlist(t._id).subscribe({next:e=>{this.Toster.info(e.message,e.status,{timeOut:2e3,closeButton:!0,progressBar:!0})},error:e=>{console.log(e)}})):(t.inWishlist=!0,this._WishlistService.AddProductToWishlist(t._id).subscribe({next:e=>{this.Toster.success(e.message,e.status,{timeOut:2e3,closeButton:!0,progressBar:!0})},error:e=>{console.log(e),t.inWishlist=!1}}))}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=D({type:n,selectors:[["app-brand-products"]],decls:7,vars:2,consts:[["emptyState",""],[1,"main-section"],[1,"container-auto"],[1,"text-emerald-500","text-center","font-bold","text-4xl","mb-6","py-3"],[4,"ngIf","ngIfElse"],[1,"grid","gap-4","sm:grid-cols-2","md:grid-cols-3","lg:grid-cols-4"],[1,"outter","p-3"],[1,"product","p-3","group"],[3,"routerLink"],[1,"w-full","block","rounded-md",3,"src","alt"],[1,"text-emerald-400","py-2"],[1,"text-black","font-medium","py-1"],[1,"flex","justify-between","items-center"],[1,"fas","fa-star","text-yellow-500"],[1,"fa","fa-heart","cursor-pointer","text-xl","mt-2",3,"click","ngClass"],[1,"main-btn","translate-y-[150%]","group-hover:translate-y-0","duration-500",3,"click"],[1,"text-center","mt-10","py-20"],[1,"text-emerald-400","text-5xl","py-5","font-extralight"],[1,"text-4xl","font-light"]],template:function(e,i){if(e&1&&(l(0,"section",1)(1,"div",2)(2,"h1",3),m(3,"Featured Products"),c(),F(4,yu,4,0,"div",4),c(),F(5,bu,5,0,"ng-template",null,0,Tt),c()),e&2){let r=ne(6);d(4),f("ngIf",i.products.length)("ngIfElse",r)}},dependencies:[Xe,re,pe],encapsulation:2})};var Ea=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"",component:$i,children:[{path:"login",component:rn,title:"Login"},{path:"register",component:on,title:"Register"},{path:"forget password",component:vn,title:"Forget Password"}]},{path:"",component:sn,canActivate:[wa],children:[{path:"home",component:cn,title:"Home"},{path:"brands",component:un,title:"Brands"},{path:"categories",component:mn,title:"Categories"},{path:"cart",component:pn,title:"Cart"},{path:"products",component:fn,title:"Products"},{path:"checkout/:c_id",component:hn,title:"Check Out"},{path:"allorders",component:gn,title:"Orders"},{path:"wishlist",component:yn,title:"Wish list"},{path:"subcategory/:s_id",component:bn,title:"Sub Category"},{path:"brand-products/:b_id",component:Cn,title:"Poducts of brand"},{path:"notfound",component:ci,title:"Not Found"},{path:"p_details/:p_id",loadComponent:()=>import("./chunk-K6SCENO5.js").then(n=>n.PDetailsComponent),title:"Product Details"}]},{path:"**",component:ci,title:"404"}];var Pa=(n,t)=>{let e=w(Se);return(n.url.includes("cart")||n.url.includes("wishlist")||n.url.includes("orders"))&&(n=n.clone({setHeaders:{token:e.get("token")}})),t(n)};var Aa=(n,t)=>{let e=w(we);return t(n).pipe(kr(i=>(e.error(i.error.message,i.error.statusMsg),Tr(()=>i))))};var Da=(n,t)=>{let e=w(li);return e.show(),t(n).pipe(Vr(()=>e.hide()))};var Ia={providers:[zr(),co({eventCoalescing:!0}),Eo(Ea,Po()),vo(bo(),yo([Pa,Aa,Da])),wo(So()),Ds(),Rr(Se,_a),To()]};var Sn=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=D({type:n,selectors:[["app-footer"]],decls:24,vars:0,consts:[[1,"bg-gray-100","py-10"],[1,"w-11/12","mx-auto"],[1,"m-0","text-2xl"],[1,"text-gray-500","text-sm"],[1,"flex","items-center","gap-3","text-nowrap"],["type","text","placeholder","Email",1,"w-full","rounded-lg","border-gray-300"],[1,"btn-main"],[1,"pay-details","md:flex","justify-between","items-center","my-5"],[1,"flex","items-center","gap-2"],[1,"text-sm","m-0"],["src","./images/amazon-pay.png","width","50px","alt",""],["src","./images/American-Express-Color.png","width","50px","alt",""],["src","./images/paypal.png","width","50px","alt",""],["src","./images/mastercard.webp","width","50px","alt",""],[1,"h6","m-0"],["src","./images/get-google-play.png","width","100px","alt",""],["src","./images/get-apple-store.png","width","100px","alt",""]],template:function(e,i){e&1&&(X(0,"footer",0)(1,"div",1)(2,"h2",2),m(3,"Get The FreshCart App"),H(),X(4,"p",3),m(5," We Will Send You a Link, Open it on Your Phone to download the app "),H(),X(6,"div",4),ut(7,"input",5),X(8,"button",6),m(9,"Share App Link"),H()(),ut(10,"hr"),X(11,"div",7)(12,"div",8)(13,"h3",9),m(14,"Payment partners"),H(),ut(15,"img",10)(16,"img",11)(17,"img",12)(18,"img",13),H(),X(19,"div",8)(20,"h3",14),m(21,"Get Deliveries with FreshCart"),H(),ut(22,"img",15)(23,"img",16),H()()()())},encapsulation:2})};var wn=class n{title=ct("e-commerce");static \u0275fac=function(e){return new(e||n)};static \u0275cmp=D({type:n,selectors:[["app-root"]],decls:7,vars:1,consts:[["bdColor","rgba(0, 0, 0, 0.8)","size","large","color","#20c997","type","fire",3,"fullScreen"],[2,"text-align","center","margin-top","15px"],[2,"color","#20c997","font-size","20px","font-weight","600","letter-spacing","1px"]],template:function(e,i){e&1&&(l(0,"div"),h(1,"router-outlet"),c(),l(2,"ngx-spinner",0)(3,"div",1)(4,"span",2),m(5," Almost there \u2728 "),c()()(),h(6,"app-footer")),e&2&&(d(2),f("fullScreen",!0))},dependencies:[Nt,Sn,ga],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;min-height:100vh}"]})};_o(wn,Ia).catch(n=>console.error(n));
